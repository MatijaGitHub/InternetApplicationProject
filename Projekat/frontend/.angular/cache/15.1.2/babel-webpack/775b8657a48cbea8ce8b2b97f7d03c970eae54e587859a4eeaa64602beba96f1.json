{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet BecomeOrganizatorComponent = class BecomeOrganizatorComponent {\n  constructor(workshopService, router) {\n    this.workshopService = workshopService;\n    this.router = router;\n  }\n  ngOnInit() {}\n  uploadImage(files) {\n    this.imageToUpload = files.item(0);\n    let image = new Image();\n    image.src = window.URL.createObjectURL(this.imageToUpload);\n    image.onload = () => {\n      if (image.width < 100 || image.height < 100 || image.width > 300 || image.height > 300) {\n        this.imageErr = '0';\n      } else {\n        this.imageErr = '2';\n      }\n    };\n  }\n  sendWorkshopRequest() {\n    let formData = new FormData();\n    //formData.append('main_picture', this.imageToUpload);\n    // for(let file of this.galleryImagesToUpload){\n    //   formData.append('gallery_pics', file);\n    // }\n    formData.append('workshopName', this.name_of_work);\n    formData.append('date', this.date.toString());\n    formData.append('shortDesc', this.shortDesc);\n    formData.append('longDesc', this.longDesc);\n    formData.append('lat', this.latitude);\n    formData.append('long', this.longtitude);\n    formData.append('place', this.place);\n    formData.append('numOfSpaces', this.numOfSpaces);\n    formData.append('username', sessionStorage.getItem('username'));\n    formData.append('main_picture', this.imageToUpload);\n    for (let f = 0; f < this.galleryImagesToUpload.length; f++) {\n      formData.append('gallery_pics', this.galleryImagesToUpload[f]);\n    }\n    this.workshopService.suggestWorkshop(formData).subscribe(resp => {\n      console.log(resp);\n    });\n  }\n  uploadImages(files) {\n    this.galleryImagesToUpload = [];\n    for (let i = 0; i < files.length; i++) {\n      this.galleryImagesToUpload[i] = files.item(i);\n      // let image = new Image();\n      // image.src = window.URL.createObjectURL(this.galleryImagesToUpload[i]);\n    }\n  }\n\n  changePass() {\n    this.router.navigate(['change-password']);\n  }\n  logout() {\n    sessionStorage.clear();\n    this.router.navigate(['']);\n  }\n};\nBecomeOrganizatorComponent = __decorate([Component({\n  selector: 'app-become-organizator',\n  templateUrl: './become-organizator.component.html',\n  styleUrls: ['./become-organizator.component.css']\n})], BecomeOrganizatorComponent);\nexport { BecomeOrganizatorComponent };","map":{"version":3,"mappings":"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","names":["Component","BecomeOrganizatorComponent","constructor","workshopService","router","ngOnInit","uploadImage","files","imageToUpload","item","image","Image","src","window","URL","createObjectURL","onload","width","height","imageErr","sendWorkshopRequest","formData","FormData","append","name_of_work","date","toString","shortDesc","longDesc","latitude","longtitude","place","numOfSpaces","sessionStorage","getItem","f","galleryImagesToUpload","length","suggestWorkshop","subscribe","resp","console","log","uploadImages","i","changePass","navigate","logout","clear","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\Matija Milosevic\\Downloads\\PIA\\InternetApplicationProject\\Projekat\\frontend\\src\\app\\become-organizator\\become-organizator.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Workshop } from '../models/workshop';\nimport { WorkshopService } from '../workshop.service';\n\n@Component({\n  selector: 'app-become-organizator',\n  templateUrl: './become-organizator.component.html',\n  styleUrls: ['./become-organizator.component.css']\n})\nexport class BecomeOrganizatorComponent implements OnInit {\n\n  constructor(private workshopService: WorkshopService, private router: Router) { }\n\n  ngOnInit(): void {\n  }\n  imageToUpload: File;\n  galleryImagesToUpload: File[];\n  imageErr: string;\n  name_of_work: string;\n  place: string;\n  latitude: string;\n  longtitude: string;\n  date: Date;\n  shortDesc: string;\n  longDesc: string;\n  numOfSpaces: string;\n  uploadImage(files: FileList):void{\n    this.imageToUpload = files.item(0);\n    let image = new Image()\n    image.src = window.URL.createObjectURL(this.imageToUpload)\n    image.onload = () => {\n      if(image.width < 100 || image.height < 100 || image.width > 300 || image.height > 300){\n        this.imageErr = '0';\n      } else {\n        this.imageErr = '2';\n        \n      }                \n    }\n  }\n  sendWorkshopRequest(){\n    let formData = new FormData();\n    //formData.append('main_picture', this.imageToUpload);\n    // for(let file of this.galleryImagesToUpload){\n    //   formData.append('gallery_pics', file);\n    // }\n    formData.append('workshopName', this.name_of_work);\n    formData.append('date', this.date.toString());\n    formData.append('shortDesc', this.shortDesc);\n    formData.append('longDesc', this.longDesc);\n    formData.append('lat', this.latitude);\n    formData.append('long', this.longtitude);\n    formData.append('place', this.place);\n    formData.append('numOfSpaces', this.numOfSpaces);\n    formData.append('username', sessionStorage.getItem('username'))\n    formData.append('main_picture', this.imageToUpload);\n    for(let f = 0; f < this.galleryImagesToUpload.length; f++){\n      formData.append('gallery_pics', this.galleryImagesToUpload[f]);\n    }\n    this.workshopService.suggestWorkshop(formData).subscribe((resp)=>{\n        console.log(resp)\n    })\n  }\n  uploadImages(files: FileList):void{\n    this.galleryImagesToUpload = [];\n    for(let i = 0; i < files.length; i++){\n      this.galleryImagesToUpload[i] = files.item(i);\n      // let image = new Image();\n      // image.src = window.URL.createObjectURL(this.galleryImagesToUpload[i]);\n    }\n  }\n  changePass(){\n    this.router.navigate(['change-password']);\n  }\n  logout(){\n    sessionStorage.clear();\n    this.router.navigate(['']);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}