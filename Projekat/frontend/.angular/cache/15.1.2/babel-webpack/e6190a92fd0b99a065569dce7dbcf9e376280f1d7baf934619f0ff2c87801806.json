{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"../workshop.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/material/sidenav\";\nfunction EditUsersComponent_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"button\", 8);\n    i0.ɵɵtext(2, \"All users\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditUsersComponent_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"button\", 9);\n    i0.ɵɵtext(2, \"Registration requests\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditUsersComponent_tr_22_td_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function EditUsersComponent_tr_22_td_7_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const userIndex_r4 = i0.ɵɵnextContext().index;\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.firstnameUpd[userIndex_r4] = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const userIndex_r4 = i0.ɵɵnextContext().index;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.firstnameUpd[userIndex_r4]);\n  }\n}\nfunction EditUsersComponent_tr_22_td_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function EditUsersComponent_tr_22_td_8_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const user_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.changeFirstname(user_r3));\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditUsersComponent_tr_22_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 12);\n    i0.ɵɵlistener(\"ngModelChange\", function EditUsersComponent_tr_22_td_14_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const userIndex_r4 = i0.ɵɵnextContext().index;\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.lastnameUpd[userIndex_r4] = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const userIndex_r4 = i0.ɵɵnextContext().index;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.lastnameUpd[userIndex_r4]);\n  }\n}\nfunction EditUsersComponent_tr_22_td_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function EditUsersComponent_tr_22_td_15_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const user_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.changeLastname(user_r3));\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditUsersComponent_tr_22_td_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function EditUsersComponent_tr_22_td_21_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r34);\n      const userIndex_r4 = i0.ɵɵnextContext().index;\n      const ctx_r33 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r33.usernameUpd[userIndex_r4] = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const userIndex_r4 = i0.ɵɵnextContext().index;\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r9.usernameUpd[userIndex_r4]);\n  }\n}\nfunction EditUsersComponent_tr_22_td_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function EditUsersComponent_tr_22_td_22_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r39);\n      const user_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r37 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r37.changeUsername(user_r3));\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditUsersComponent_tr_22_td_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function EditUsersComponent_tr_22_td_28_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r41);\n      const userIndex_r4 = i0.ɵɵnextContext().index;\n      const ctx_r40 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r40.phonenumberUpd[userIndex_r4] = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const userIndex_r4 = i0.ɵɵnextContext().index;\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r11.phonenumberUpd[userIndex_r4]);\n  }\n}\nfunction EditUsersComponent_tr_22_td_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r46 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function EditUsersComponent_tr_22_td_29_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r46);\n      const user_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r44 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r44.changePhonenumber(user_r3));\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditUsersComponent_tr_22_td_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r48 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function EditUsersComponent_tr_22_td_35_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r48);\n      const userIndex_r4 = i0.ɵɵnextContext().index;\n      const ctx_r47 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r47.emailUpd[userIndex_r4] = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const userIndex_r4 = i0.ɵɵnextContext().index;\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r13.emailUpd[userIndex_r4]);\n  }\n}\nfunction EditUsersComponent_tr_22_td_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r53 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function EditUsersComponent_tr_22_td_36_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r53);\n      const user_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r51 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r51.changeEmail(user_r3));\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditUsersComponent_tr_22_td_43_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r56 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"div\", 16)(2, \"input\", 17);\n    i0.ɵɵlistener(\"change\", function EditUsersComponent_tr_22_td_43_Template_input_change_2_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const userIndex_r4 = i0.ɵɵnextContext().index;\n      const ctx_r54 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r54.uploadImage($event.target.files, userIndex_r4));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction EditUsersComponent_tr_22_td_44_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r58 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function EditUsersComponent_tr_22_td_44_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r58);\n      const ctx_r57 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r57.changePicture());\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditUsersComponent_tr_22_p_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"On\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditUsersComponent_tr_22_p_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Off\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditUsersComponent_tr_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r60 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"table\")(2, \"tr\")(3, \"td\");\n    i0.ɵɵtext(4, \" Firstname: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, EditUsersComponent_tr_22_td_7_Template, 2, 1, \"td\", 5);\n    i0.ɵɵtemplate(8, EditUsersComponent_tr_22_td_8_Template, 3, 0, \"td\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"tr\")(10, \"td\");\n    i0.ɵɵtext(11, \" Lastname: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, EditUsersComponent_tr_22_td_14_Template, 2, 1, \"td\", 5);\n    i0.ɵɵtemplate(15, EditUsersComponent_tr_22_td_15_Template, 3, 0, \"td\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"tr\")(17, \"td\");\n    i0.ɵɵtext(18, \" Username: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(21, EditUsersComponent_tr_22_td_21_Template, 2, 1, \"td\", 5);\n    i0.ɵɵtemplate(22, EditUsersComponent_tr_22_td_22_Template, 3, 0, \"td\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"tr\")(24, \"td\");\n    i0.ɵɵtext(25, \" Phone number: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"td\");\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(28, EditUsersComponent_tr_22_td_28_Template, 2, 1, \"td\", 5);\n    i0.ɵɵtemplate(29, EditUsersComponent_tr_22_td_29_Template, 3, 0, \"td\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"tr\")(31, \"td\");\n    i0.ɵɵtext(32, \" Email: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"td\");\n    i0.ɵɵtext(34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(35, EditUsersComponent_tr_22_td_35_Template, 2, 1, \"td\", 5);\n    i0.ɵɵtemplate(36, EditUsersComponent_tr_22_td_36_Template, 3, 0, \"td\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(37, \"tr\");\n    i0.ɵɵelementStart(38, \"tr\")(39, \"td\");\n    i0.ɵɵtext(40, \" Profile picture: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"td\");\n    i0.ɵɵelement(42, \"img\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(43, EditUsersComponent_tr_22_td_43_Template, 3, 0, \"td\", 5);\n    i0.ɵɵtemplate(44, EditUsersComponent_tr_22_td_44_Template, 3, 0, \"td\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"tr\")(46, \"td\")(47, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function EditUsersComponent_tr_22_Template_button_click_47_listener() {\n      i0.ɵɵrestoreView(_r60);\n      const ctx_r59 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r59.editEnable());\n    });\n    i0.ɵɵtext(48, \"Edit mode\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(49, \"td\");\n    i0.ɵɵtemplate(50, EditUsersComponent_tr_22_p_50_Template, 2, 0, \"p\", 5);\n    i0.ɵɵtemplate(51, EditUsersComponent_tr_22_p_51_Template, 2, 0, \"p\", 5);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const user_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", user_r3.firstname, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.edit == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.edit == 1);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", user_r3.lastname, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.edit == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.edit == 1);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", user_r3.username, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.edit == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.edit == 1);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", user_r3.phonenumber, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.edit == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.edit == 1);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", user_r3.email, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.edit == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.edit == 1);\n    i0.ɵɵadvance(6);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"http://localhost:4000/\", user_r3.image_path.slice(7), \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.edit == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.edit == 1);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.edit == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.edit == 0);\n  }\n}\nexport class EditUsersComponent {\n  constructor(userService, workshopService, router) {\n    this.userService = userService;\n    this.workshopService = workshopService;\n    this.router = router;\n    this.edit = 0;\n    this.firstnameUpd = [];\n    this.lastnameUpd = [];\n    this.usernameUpd = [];\n    this.phonenumberUpd = [];\n    this.emailUpd = [];\n    this.imageToUpload = [];\n    this.user_type = 2;\n  }\n  ngOnInit() {\n    this.userService.getAllUsers().subscribe(resp => {\n      this.users = resp;\n      this.firstnameUpd = [];\n      this.lastnameUpd = [];\n      this.usernameUpd = [];\n      this.emailUpd = [];\n      this.phonenumberUpd = [];\n      this.imageToUpload = [];\n    });\n  }\n  changeFirstname(user) {}\n  changeLastname(user) {}\n  changeUsername(user) {}\n  changePhonenumber(user) {}\n  changeEmail(user) {}\n  uploadImage(files, user) {\n    this.imageToUpload = files.item(0);\n    let image = new Image();\n    image.src = window.URL.createObjectURL(this.imageToUpload);\n    image.onload = () => {\n      if (image.width < 100 || image.height < 100 || image.width > 300 || image.height > 300) {\n        this.imageErr = '0';\n      } else {\n        this.imageErr = '2';\n      }\n      this.imageToUploadJSON = \"\";\n    };\n  }\n  changePass() {\n    this.router.navigate(['change-password']);\n  }\n  logout() {\n    sessionStorage.clear();\n    this.router.navigate(['']);\n  }\n}\nEditUsersComponent.ɵfac = function EditUsersComponent_Factory(t) {\n  return new (t || EditUsersComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.WorkshopService), i0.ɵɵdirectiveInject(i3.Router));\n};\nEditUsersComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditUsersComponent,\n  selectors: [[\"app-edit-users\"]],\n  decls: 23,\n  vars: 3,\n  consts: [[1, \"example-container\"], [\"mode\", \"side\", \"opened\", \"\"], [\"routerLink\", \"/user-info\"], [\"routerLink\", \"/user-workshops\"], [\"routerLink\", \"/become-organizer\"], [4, \"ngIf\"], [3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [\"routerLink\", \"/edit-users\"], [\"routerLink\", \"/registration-requests\"], [\"onerror\", \"this.src=\\\"http://localhost:4000/blank-profile-picture-973460__340.webp\\\"\", \"width\", \"50\", \"height\", \"50\", 3, \"src\"], [\"type\", \"text\", \"name\", \"firstnameUpdate\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"lastnameUpdate\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"usernameUpdate\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"phonenumberUpdate\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"emailUpdate\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-group\"], [\"type\", \"file\", 3, \"change\"]],\n  template: function EditUsersComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-sidenav-container\", 0)(1, \"mat-sidenav\", 1)(2, \"table\")(3, \"tr\")(4, \"button\", 2);\n      i0.ɵɵtext(5, \"Profile\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"tr\")(7, \"button\", 3);\n      i0.ɵɵtext(8, \"Workshops\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"tr\")(10, \"button\", 4);\n      i0.ɵɵtext(11, \"Become organizer\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(12, EditUsersComponent_tr_12_Template, 3, 0, \"tr\", 5);\n      i0.ɵɵtemplate(13, EditUsersComponent_tr_13_Template, 3, 0, \"tr\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"form\")(15, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function EditUsersComponent_Template_button_click_15_listener() {\n        return ctx.changePass();\n      });\n      i0.ɵɵtext(16, \"Change password\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"form\")(18, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function EditUsersComponent_Template_button_click_18_listener() {\n        return ctx.logout();\n      });\n      i0.ɵɵtext(19, \"Logout\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(20, \"mat-sidenav-content\")(21, \"table\");\n      i0.ɵɵtemplate(22, EditUsersComponent_tr_22_Template, 52, 20, \"tr\", 7);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngIf\", ctx.user_type == 2);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.user_type == 2);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngForOf\", ctx.users);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i3.RouterLink, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.NgModel, i5.NgForm, i6.MatSidenav, i6.MatSidenavContainer, i6.MatSidenavContent],\n  styles: [\".example-container[_ngcontent-%COMP%] {\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    right: 0;\\r\\n    background: lightblue;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZWRpdC11c2Vycy9lZGl0LXVzZXJzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7SUFDbEIsTUFBTTtJQUNOLFNBQVM7SUFDVCxPQUFPO0lBQ1AsUUFBUTtJQUNSLHFCQUFxQjtFQUN2QiIsInNvdXJjZXNDb250ZW50IjpbIi5leGFtcGxlLWNvbnRhaW5lciB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBib3R0b206IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICBiYWNrZ3JvdW5kOiBsaWdodGJsdWU7XHJcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","EditUsersComponent","constructor","userService","workshopService","router","ngOnInit","getAllUsers","subscribe","resp","users","firstnameUpd","lastnameUpd","usernameUpd","emailUpd","phonenumberUpd","imageToUpload","changeFirstname","user","changeLastname","changeUsername","changePhonenumber","changeEmail","uploadImage","files","item","image","Image","src","window","URL","createObjectURL","onload","width","height","imageErr","imageToUploadJSON","changePass","navigate","logout","sessionStorage","clear","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Matija Milosevic\\Downloads\\PIA\\InternetApplicationProject\\Projekat\\frontend\\src\\app\\edit-users\\edit-users.component.html","C:\\Users\\Matija Milosevic\\Downloads\\PIA\\InternetApplicationProject\\Projekat\\frontend\\src\\app\\edit-users\\edit-users.component.ts"],"sourcesContent":["<mat-sidenav-container class=\"example-container\">\n    <mat-sidenav mode=\"side\" opened>\n        <table>\n            <tr>\n                <button routerLink=\"/user-info\">Profile</button>\n            </tr>\n            <tr>\n                <button routerLink=\"/user-workshops\">Workshops</button>\n            </tr>\n            <tr>\n                <button routerLink=\"/become-organizer\">Become organizer</button>\n            </tr>\n            <tr *ngIf=\"user_type == 2\">\n                <button routerLink=\"/edit-users\">All users</button>\n           </tr>\n           <tr *ngIf=\"user_type == 2\">\n                <button routerLink=\"/registration-requests\">Registration requests</button>\n            </tr>\n           \n\n        </table>\n        \n            <form>\n                <button (click)=\"changePass()\">Change password</button>\n            </form>\n        \n            <form>\n                <button (click)=\"logout()\">Logout</button>\n            </form>\n        \n\n\n    </mat-sidenav>\n    <mat-sidenav-content>\n        <table>\n            <tr *ngFor=\"let user of users;let userIndex = index;\">\n                <table>\n                    <tr>\n                        <td>\n                            Firstname:\n                        </td>\n                        <td>\n                            {{user.firstname}}\n                        </td>\n                        <td *ngIf=\"edit == 1\">\n                            <input type=\"text\" name=\"firstnameUpdate\" [(ngModel)]=\"firstnameUpd[userIndex]\">\n                        </td>\n                        <td *ngIf=\"edit == 1\">\n                            <button (click)=\"changeFirstname(user)\">Change</button>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            Lastname:\n                        </td>\n                        <td>\n                            {{user.lastname}}\n                        </td>\n                        <td *ngIf=\"edit == 1\">\n                            <input type=\"text\" name=\"lastnameUpdate\" [(ngModel)]=\"lastnameUpd[userIndex]\">\n                        </td>\n                        <td *ngIf=\"edit == 1\">\n                            <button (click)=\"changeLastname(user)\">Change</button>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            Username:\n                        </td>\n                        <td>\n                            {{user.username}}\n                        </td>\n                        <td *ngIf=\"edit == 1\">\n                            <input type=\"text\" name=\"usernameUpdate\" [(ngModel)]=\"usernameUpd[userIndex]\">\n                        </td>\n                        <td *ngIf=\"edit == 1\">\n                            <button (click)=\"changeUsername(user)\">Change</button>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            Phone number:\n                        </td>\n                        <td>\n                            {{user.phonenumber}}\n                        </td>\n                        <td *ngIf=\"edit == 1\">\n                            <input type=\"text\" name=\"phonenumberUpdate\" [(ngModel)]=\"phonenumberUpd[userIndex]\">\n                        </td>\n                        <td *ngIf=\"edit == 1\">\n                            <button (click)=\"changePhonenumber(user)\">Change</button>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            Email:\n                        </td>\n                        <td>\n                            {{user.email}}\n                        </td>\n                        <td *ngIf=\"edit == 1\">\n                            <input type=\"text\" name=\"emailUpdate\" [(ngModel)]=\"emailUpd[userIndex]\">\n                        </td>\n                        <td *ngIf=\"edit == 1\">\n                            <button (click)=\"changeEmail(user)\">Change</button>\n                        </td>\n                    </tr>\n                    <tr>\n                        <tr>\n                            <td>\n                                Profile picture:\n                            </td>\n                            <td>\n                                <img src=\"http://localhost:4000/{{user.image_path.slice(7)}}\" onerror='this.src=\"http://localhost:4000/blank-profile-picture-973460__340.webp\"' width=\"50\" height=\"50\">\n                            </td>\n                            <td *ngIf=\"edit == 1\">\n                                <div class=\"form-group\">\n                                        \n                                    <input type=\"file\" (change)=\"uploadImage($any($event).target.files, userIndex)\">\n                                    </div>\n                            </td>\n                            <td *ngIf=\"edit == 1\">\n                                <button (click)=\"changePicture()\">Change</button>\n                            </td>\n                        </tr>\n                        <tr>\n                        <td>\n                            <button (click)=\"editEnable()\">Edit mode</button>\n                        </td>\n                        <td>\n                            <p *ngIf=\"edit == 1\">On</p>\n                            <p *ngIf=\"edit == 0\">Off</p>\n                        </td>\n                    </tr>\n                </table>\n            </tr>\n        </table>\n    </mat-sidenav-content>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { User } from '../models/user';\nimport { UserService } from '../user.service';\nimport { WorkshopService } from '../workshop.service';\n\n@Component({\n  selector: 'app-edit-users',\n  templateUrl: './edit-users.component.html',\n  styleUrls: ['./edit-users.component.css']\n})\nexport class EditUsersComponent implements OnInit {\n\n  constructor(private userService: UserService, private workshopService: WorkshopService,\n    private router : Router) { }\n\n\n  users : User[]\n  edit : number | null = 0;\n  firstnameUpd : string[] | null = []\n  lastnameUpd : string[] | null = []\n  usernameUpd : string[] | null = []\n  phonenumberUpd: string[] | null = []\n  emailUpd: string[] | null = []\n  imageToUpload : File[] | null = []\n  user_type : number | null=2;\n  ngOnInit(): void {\n    this.userService.getAllUsers().subscribe((resp)=>{\n      this.users = resp as User[];\n      this.firstnameUpd = []\n      this.lastnameUpd = []\n      this.usernameUpd = []\n      this.emailUpd = []\n      this.phonenumberUpd = []\n      this.imageToUpload = []\n    })\n  }\n  changeFirstname(user){\n\n  }\n  changeLastname(user){\n\n  }\n  changeUsername(user){\n\n  }\n  changePhonenumber(user){\n\n  }\n  changeEmail(user){\n\n  }\n  uploadImage(files: FileList, user):void{\n    this.imageToUpload = files.item(0);\n    let image = new Image()\n    image.src = window.URL.createObjectURL(this.imageToUpload)\n    image.onload = () => {\n      if(image.width < 100 || image.height < 100 || image.width > 300 || image.height > 300){\n        this.imageErr = '0';\n      } else {\n        this.imageErr = '2';\n        \n      } \n      this.imageToUploadJSON = \"\"               \n    }\n  }\n  changePass(){\n    this.router.navigate(['change-password']);\n  }\n  logout(){\n    sessionStorage.clear();\n    this.router.navigate(['']);\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}