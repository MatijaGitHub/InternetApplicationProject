{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../workshop.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction ProfileComponent_td_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 4);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_td_6_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.firstnameUpd = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.firstnameUpd);\n  }\n}\nfunction ProfileComponent_td_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_td_7_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.changeFirstname());\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_td_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_td_13_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.lastnameUpd = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.lastnameUpd);\n  }\n}\nfunction ProfileComponent_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_td_14_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.changeLastname());\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_td_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_td_20_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.usernameUpd = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.usernameUpd);\n  }\n}\nfunction ProfileComponent_td_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_td_21_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.changeUsername());\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_td_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 7);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_td_27_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.phonenumberUpd = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r6.phonenumberUpd);\n  }\n}\nfunction ProfileComponent_td_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_td_28_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.changePhonenumber());\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_td_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_td_34_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r34);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r33.emailUpd = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.emailUpd);\n  }\n}\nfunction ProfileComponent_td_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_td_35_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r36);\n      const ctx_r35 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r35.changeEmail());\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_td_42_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"div\", 9)(2, \"input\", 10);\n    i0.ɵɵlistener(\"change\", function ProfileComponent_td_42_Template_input_change_2_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r37 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r37.uploadImage($event.target.files));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ProfileComponent_td_43_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r40 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_td_43_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r40);\n      const ctx_r39 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r39.changePicture());\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_p_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"On\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProfileComponent_p_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Off\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProfileComponent_tr_84_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"img\", 1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const workshop_r41 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"http://localhost:4000/\", workshop_r41.workshopImage, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r41.workshopName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r41.workshopDate, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r41.workshopPlace, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r41.workshopDesc, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r41.numOfLikes, \" \");\n  }\n}\nfunction ProfileComponent_tr_86_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r44 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_tr_86_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r44);\n      const workshop_r42 = restoredCtx.$implicit;\n      const ctx_r43 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r43.unlikeWorkshop(workshop_r42));\n    });\n    i0.ɵɵtext(5, \"Unlike\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const workshop_r42 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r42.workshopName, \" \");\n  }\n}\nfunction ProfileComponent_tr_101_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r47 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_tr_101_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r47);\n      const comment_r45 = restoredCtx.$implicit;\n      const ctx_r46 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r46.deleteComment(comment_r45));\n    });\n    i0.ɵɵtext(7, \"Delete\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"td\")(9, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_tr_101_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r47);\n      const comment_r45 = restoredCtx.$implicit;\n      const ctx_r48 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r48.editComment(comment_r45));\n    });\n    i0.ɵɵtext(10, \"Edit\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const comment_r45 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", comment_r45.workshopName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", comment_r45.comment, \" \");\n  }\n}\nexport class ProfileComponent {\n  constructor(userService, router, workshopService) {\n    this.userService = userService;\n    this.router = router;\n    this.workshopService = workshopService;\n    this.edit = 0;\n    this.firstname = sessionStorage.getItem('firstname');\n    this.lastname = sessionStorage.getItem('lastname');\n    this.username = sessionStorage.getItem('username');\n    this.phonenumber = sessionStorage.getItem('phonenumber');\n    this.email = sessionStorage.getItem('email');\n    this.image_path = sessionStorage.getItem('imagePath').slice(7);\n    this.getWorkshops();\n    this.getLikedWorkshops();\n    this.getWorkshopComments();\n  }\n  ngOnInit() {}\n  changeEmail() {\n    this.userService.changeEmail(this.username, this.emailUpd).subscribe(resp => {\n      this.email = this.emailUpd;\n    });\n  }\n  changeUsername() {\n    this.userService.changeUsername(this.username, this.usernameUpd).subscribe(resp => {\n      if (resp['message'] == 'Username changed!') {\n        this.username = this.usernameUpd;\n      }\n    });\n  }\n  changeFirstname() {\n    this.userService.changeFirstname(this.username, this.firstnameUpd).subscribe(resp => {\n      this.firstname = this.firstnameUpd;\n    });\n  }\n  changeLastname() {\n    this.userService.changeLastname(this.username, this.lastnameUpd).subscribe(resp => {\n      this.lastname = this.lastnameUpd;\n    });\n  }\n  changePhonenumber() {\n    this.userService.changePhonenumber(this.username, this.phonenumberUpd).subscribe(resp => {\n      this.phonenumber = this.phonenumberUpd;\n    });\n  }\n  editEnable() {\n    this.edit = this.edit == 0 ? 1 : 0;\n  }\n  changePicture() {\n    let formData = new FormData();\n    formData.append('username', this.username);\n    formData.append('image', this.imageToUpload);\n    this.userService.changeProfilePic(formData).subscribe(resp => {\n      this.image_path = resp['image_path'];\n    });\n  }\n  getWorkshops() {\n    this.workshopService.getWorkshopsByParticipation(this.username, 1).subscribe(resp => {\n      this.workshopsPart = resp;\n    });\n  }\n  getLikedWorkshops() {\n    this.workshopService.getWorkshopsByLikes(this.username).subscribe(resp => {\n      this.likedWorkshops = resp;\n    });\n  }\n  getWorkshopComments() {\n    this.workshopService.getWorkshopCommentsByUser(this.username).subscribe(resp => {\n      this.workshopComments = resp;\n    });\n  }\n  unlikeWorkshop(workshop) {\n    let workshopId = workshop._id;\n    this.workshopService.unlikeWorkshop(this.username, workshopId).subscribe(resp => {\n      this.getWorkshops();\n      this.getLikedWorkshops();\n    });\n  }\n  deleteComment(workshopComment) {\n    let workshopId = workshopComment.workshopId;\n    this.workshopService.deleteComment(this.username, workshopId).subscribe(resp => {\n      this.getWorkshopComments();\n    });\n  }\n  editComment(workshopComment) {\n    let workshopId = workshopComment.workshopId;\n    sessionStorage.setItem('workshopToEdit', workshopId);\n    this.router.navigate(['edit-comment']);\n    // this.workshopService.editComment(this.username,workshopId).subscribe((resp)=>{\n    //   this.getWorkshopComments();\n    // })\n  }\n  ////////////////////////////////////////////////\n  sortByWorkShopName() {\n    this.workshopsPart.sort((w1, w2) => w1.workshopName.toLowerCase() > w2.workshopName.toLowerCase() ? 1 : -1);\n  }\n  sortByWorkShopDate() {\n    this.workshopsPart.sort((w1, w2) => w1.workshopDate > w2.workshopDate ? -1 : 1);\n  }\n  sortByWorkShopPlace() {\n    this.workshopsPart.sort((w1, w2) => w1.workshopPlace.toLowerCase() > w2.workshopPlace.toLowerCase() ? 1 : -1);\n  }\n  sortByWorkShopDesc() {\n    this.workshopsPart.sort((w1, w2) => w1.workshopDesc.toLowerCase() > w2.workshopDesc.toLowerCase() ? 1 : -1);\n  }\n  sortByWorkShopLikes() {\n    this.workshopsPart.sort((w1, w2) => w1.numOfLikes > w2.numOfLikes ? -1 : 1);\n  }\n  uploadImage(files) {\n    this.imageToUpload = files.item(0);\n    let image = new Image();\n    image.src = window.URL.createObjectURL(this.imageToUpload);\n    image.onload = () => {\n      if (image.width < 100 || image.height < 100 || image.width > 300 || image.height > 300) {\n        this.imageErr = '0';\n      } else {\n        this.imageErr = '2';\n      }\n    };\n  }\n}\nProfileComponent.ɵfac = function ProfileComponent_Factory(t) {\n  return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.WorkshopService));\n};\nProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProfileComponent,\n  selectors: [[\"app-profile\"]],\n  decls: 102,\n  vars: 23,\n  consts: [[4, \"ngIf\"], [\"onerror\", \"this.src=\\\"http://localhost:4000/workshop.webp\\\"\", \"width\", \"50\", \"height\", \"50\", 3, \"src\"], [3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"name\", \"firstnameUpdate\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"lastnameUpdate\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"usernameUpdate\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"phonenumberUpdate\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"emailUpdate\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-group\"], [\"type\", \"file\", 3, \"change\"]],\n  template: function ProfileComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"table\")(1, \"tr\")(2, \"td\");\n      i0.ɵɵtext(3, \" Firstname: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"td\");\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(6, ProfileComponent_td_6_Template, 2, 1, \"td\", 0);\n      i0.ɵɵtemplate(7, ProfileComponent_td_7_Template, 3, 0, \"td\", 0);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"tr\")(9, \"td\");\n      i0.ɵɵtext(10, \" Lastname: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"td\");\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(13, ProfileComponent_td_13_Template, 2, 1, \"td\", 0);\n      i0.ɵɵtemplate(14, ProfileComponent_td_14_Template, 3, 0, \"td\", 0);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"tr\")(16, \"td\");\n      i0.ɵɵtext(17, \" Username: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"td\");\n      i0.ɵɵtext(19);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(20, ProfileComponent_td_20_Template, 2, 1, \"td\", 0);\n      i0.ɵɵtemplate(21, ProfileComponent_td_21_Template, 3, 0, \"td\", 0);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"tr\")(23, \"td\");\n      i0.ɵɵtext(24, \" Phone number: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"td\");\n      i0.ɵɵtext(26);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(27, ProfileComponent_td_27_Template, 2, 1, \"td\", 0);\n      i0.ɵɵtemplate(28, ProfileComponent_td_28_Template, 3, 0, \"td\", 0);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"tr\")(30, \"td\");\n      i0.ɵɵtext(31, \" Email: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"td\");\n      i0.ɵɵtext(33);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(34, ProfileComponent_td_34_Template, 2, 1, \"td\", 0);\n      i0.ɵɵtemplate(35, ProfileComponent_td_35_Template, 3, 0, \"td\", 0);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(36, \"tr\");\n      i0.ɵɵelementStart(37, \"tr\")(38, \"td\");\n      i0.ɵɵtext(39, \" Profile picture: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"td\");\n      i0.ɵɵelement(41, \"img\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(42, ProfileComponent_td_42_Template, 3, 0, \"td\", 0);\n      i0.ɵɵtemplate(43, ProfileComponent_td_43_Template, 3, 0, \"td\", 0);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"tr\")(45, \"td\")(46, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_46_listener() {\n        return ctx.editEnable();\n      });\n      i0.ɵɵtext(47, \"Edit mode\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(48, \"td\");\n      i0.ɵɵtemplate(49, ProfileComponent_p_49_Template, 2, 0, \"p\", 0);\n      i0.ɵɵtemplate(50, ProfileComponent_p_50_Template, 2, 0, \"p\", 0);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(51, \"h1\");\n      i0.ɵɵtext(52, \"Participated workshops:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"table\")(54, \"tr\");\n      i0.ɵɵelement(55, \"td\");\n      i0.ɵɵelementStart(56, \"td\")(57, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_57_listener() {\n        return ctx.sortByWorkShopName();\n      });\n      i0.ɵɵtext(58, \"Sort\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(59, \"td\")(60, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_60_listener() {\n        return ctx.sortByWorkShopDate();\n      });\n      i0.ɵɵtext(61, \"Sort\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(62, \"td\")(63, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_63_listener() {\n        return ctx.sortByWorkShopPlace();\n      });\n      i0.ɵɵtext(64, \"Sort\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(65, \"td\")(66, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_66_listener() {\n        return ctx.sortByWorkShopDesc();\n      });\n      i0.ɵɵtext(67, \"Sort\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(68, \"td\")(69, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_69_listener() {\n        return ctx.sortByWorkShopLikes();\n      });\n      i0.ɵɵtext(70, \"Sort\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(71, \"tr\")(72, \"td\");\n      i0.ɵɵtext(73, \" Workshop Image \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(74, \"td\");\n      i0.ɵɵtext(75, \" Workshop Name \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(76, \"td\");\n      i0.ɵɵtext(77, \" Workshop Date \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(78, \"td\");\n      i0.ɵɵtext(79, \" Workshop Place \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(80, \"td\");\n      i0.ɵɵtext(81, \" Workshop Desc \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(82, \"td\");\n      i0.ɵɵtext(83, \" Likes \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(84, ProfileComponent_tr_84_Template, 13, 6, \"tr\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(85, \"table\");\n      i0.ɵɵtemplate(86, ProfileComponent_tr_86_Template, 6, 1, \"tr\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(87, \"table\")(88, \"tr\")(89, \"td\")(90, \"h4\");\n      i0.ɵɵtext(91, \"Workshop:\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(92, \"td\")(93, \"h3\");\n      i0.ɵɵtext(94, \"Comment:\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(95, \"td\")(96, \"h3\");\n      i0.ɵɵtext(97, \"Delete:\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(98, \"td\")(99, \"h3\");\n      i0.ɵɵtext(100, \"Edit:\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(101, ProfileComponent_tr_101_Template, 11, 2, \"tr\", 3);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\" \", ctx.firstname, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\" \", ctx.lastname, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\" \", ctx.username, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\" \", ctx.phonenumber, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\" \", ctx.email, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(6);\n      i0.ɵɵpropertyInterpolate1(\"src\", \"http://localhost:4000/\", ctx.image_path, \"\", i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 0);\n      i0.ɵɵadvance(34);\n      i0.ɵɵproperty(\"ngForOf\", ctx.workshopsPart);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.likedWorkshops);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngForOf\", ctx.workshopComments);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ProfileComponent","constructor","userService","router","workshopService","firstname","sessionStorage","getItem","lastname","username","phonenumber","email","image_path","slice","getWorkshops","getLikedWorkshops","getWorkshopComments","ngOnInit","changeEmail","emailUpd","subscribe","resp","changeUsername","usernameUpd","changeFirstname","firstnameUpd","changeLastname","lastnameUpd","changePhonenumber","phonenumberUpd","editEnable","edit","changePicture","formData","FormData","append","imageToUpload","changeProfilePic","getWorkshopsByParticipation","workshopsPart","getWorkshopsByLikes","likedWorkshops","getWorkshopCommentsByUser","workshopComments","unlikeWorkshop","workshop","workshopId","_id","deleteComment","workshopComment","editComment","setItem","navigate","sortByWorkShopName","sort","w1","w2","workshopName","toLowerCase","sortByWorkShopDate","workshopDate","sortByWorkShopPlace","workshopPlace","sortByWorkShopDesc","workshopDesc","sortByWorkShopLikes","numOfLikes","uploadImage","files","item","image","Image","src","window","URL","createObjectURL","onload","width","height","imageErr","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Matija Milosevic\\Downloads\\PIA\\InternetApplicationProject\\Projekat\\frontend\\src\\app\\profile\\profile.component.html","C:\\Users\\Matija Milosevic\\Downloads\\PIA\\InternetApplicationProject\\Projekat\\frontend\\src\\app\\profile\\profile.component.ts"],"sourcesContent":["<table>\n    <tr>\n        <td>\n            Firstname:\n        </td>\n        <td>\n            {{firstname}}\n        </td>\n        <td *ngIf=\"edit == 1\">\n            <input type=\"text\" name=\"firstnameUpdate\" [(ngModel)]=\"firstnameUpd\">\n        </td>\n        <td *ngIf=\"edit == 1\">\n            <button (click)=\"changeFirstname()\">Change</button>\n        </td>\n    </tr>\n    <tr>\n        <td>\n            Lastname:\n        </td>\n        <td>\n            {{lastname}}\n        </td>\n        <td *ngIf=\"edit == 1\">\n            <input type=\"text\" name=\"lastnameUpdate\" [(ngModel)]=\"lastnameUpd\">\n        </td>\n        <td *ngIf=\"edit == 1\">\n            <button (click)=\"changeLastname()\">Change</button>\n        </td>\n    </tr>\n    <tr>\n        <td>\n            Username:\n        </td>\n        <td>\n            {{username}}\n        </td>\n        <td *ngIf=\"edit == 1\">\n            <input type=\"text\" name=\"usernameUpdate\" [(ngModel)]=\"usernameUpd\">\n        </td>\n        <td *ngIf=\"edit == 1\">\n            <button (click)=\"changeUsername()\">Change</button>\n        </td>\n    </tr>\n    <tr>\n        <td>\n            Phone number:\n        </td>\n        <td>\n            {{phonenumber}}\n        </td>\n        <td *ngIf=\"edit == 1\">\n            <input type=\"text\" name=\"phonenumberUpdate\" [(ngModel)]=\"phonenumberUpd\">\n        </td>\n        <td *ngIf=\"edit == 1\">\n            <button (click)=\"changePhonenumber()\">Change</button>\n        </td>\n    </tr>\n    <tr>\n        <td>\n            Email:\n        </td>\n        <td>\n            {{email}}\n        </td>\n        <td *ngIf=\"edit == 1\">\n            <input type=\"text\" name=\"emailUpdate\" [(ngModel)]=\"emailUpd\">\n        </td>\n        <td *ngIf=\"edit == 1\">\n            <button (click)=\"changeEmail()\">Change</button>\n        </td>\n    </tr>\n    <tr>\n        <tr>\n            <td>\n                Profile picture:\n            </td>\n            <td>\n                <img src=\"http://localhost:4000/{{image_path}}\" onerror='this.src=\"http://localhost:4000/workshop.webp\"' width=\"50\" height=\"50\">\n            </td>\n            <td *ngIf=\"edit == 1\">\n                <div class=\"form-group\">\n                        \n                    <input type=\"file\" (change)=\"uploadImage($any($event).target.files)\">\n                    </div>\n            </td>\n            <td *ngIf=\"edit == 1\">\n                <button (click)=\"changePicture()\">Change</button>\n            </td>\n        </tr>\n        <tr>\n        <td>\n            <button (click)=\"editEnable()\">Edit mode</button>\n        </td>\n        <td>\n            <p *ngIf=\"edit == 1\">On</p>\n            <p *ngIf=\"edit == 0\">Off</p>\n        </td>\n    </tr>\n</table>\n<h1>Participated workshops:</h1>\n<table>\n    <tr>\n        \n        <td>\n            \n        </td>\n        <td>\n            <button (click)=\"sortByWorkShopName()\">Sort</button>\n            \n        </td>\n        <td>\n            <button (click)=\"sortByWorkShopDate()\">Sort</button>\n           \n        </td>\n        <td>\n            <button (click)=\"sortByWorkShopPlace()\">Sort</button>\n          \n        </td>\n        <td>\n            <button (click)=\"sortByWorkShopDesc()\">Sort</button>\n           \n        </td>\n        <td>\n            <button (click)=\"sortByWorkShopLikes()\">Sort</button>\n           \n        </td>\n    </tr>\n    <tr>\n        \n        <td>\n            Workshop Image\n        </td>\n        <td>\n            Workshop Name \n        </td>\n        <td>\n            Workshop Date\n        </td>\n        <td>\n            Workshop Place\n        </td>\n        <td>\n            Workshop Desc\n        </td>\n        <td>\n            Likes\n        </td>\n    </tr>\n    <tr *ngFor=\"let workshop of workshopsPart\">\n        <td>\n            <img src=\"http://localhost:4000/{{workshop.workshopImage}}\" onerror='this.src=\"http://localhost:4000/workshop.webp\"' width=\"50\" height=\"50\">\n        </td>\n        <td>\n            {{workshop.workshopName}}  \n        </td>\n        <td>\n           {{workshop.workshopDate}} \n        </td>\n        <td>\n            {{workshop.workshopPlace}} \n        </td>\n        <td>\n            {{workshop.workshopDesc}} \n        </td>\n        <td>\n            {{workshop.numOfLikes}} \n        </td>\n    </tr>\n</table>\n<table>\n    <tr *ngFor=\"let workshop of likedWorkshops\">\n        <td>\n            {{workshop.workshopName}}\n        </td>\n        <td>\n            <button (click)=\"unlikeWorkshop(workshop)\">Unlike</button>\n        </td>\n    </tr>\n</table>          \n<table>\n    <tr>\n        <td>\n            <h4>Workshop:</h4>\n        </td>\n        <td>\n            <h3>Comment:</h3>\n        </td>\n        <td>\n            <h3>Delete:</h3>\n        </td>\n        <td>\n            <h3>Edit:</h3>\n\n        </td>\n    </tr>\n    <tr *ngFor=\"let comment of workshopComments\">\n        <td>\n            {{comment.workshopName}}\n        </td>\n        <td>\n            {{comment.comment}}\n        </td>\n        <td>\n            <button (click)=\"deleteComment(comment)\">Delete</button>\n        </td>\n        <td>\n            <button (click)=\"editComment(comment)\">Edit</button>\n        </td>\n    </tr>\n</table>\n\n   \n\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Workshop } from '../models/workshop';\nimport { WorkshopComments } from '../models/workshop_comments';\nimport { UserService } from '../user.service';\nimport { WorkshopService } from '../workshop.service';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.css']\n})\nexport class ProfileComponent implements OnInit {\n\n  constructor(private userService : UserService, private router : Router, private workshopService : WorkshopService) {\n      this.firstname = sessionStorage.getItem('firstname');   \n      this.lastname = sessionStorage.getItem('lastname'); \n      this.username = sessionStorage.getItem('username'); \n      this.phonenumber = sessionStorage.getItem('phonenumber');  \n      this.email = sessionStorage.getItem('email'); \n      this.image_path = sessionStorage.getItem('imagePath').slice(7);\n      this.getWorkshops();\n      this.getLikedWorkshops();\n      this.getWorkshopComments();\n   }\n\n  ngOnInit(): void {\n  }\n\n  firstnameUpd : string;\n  lastnameUpd : string;\n  usernameUpd : string;\n  emailUpd : string;\n  phonenumberUpd : string;\n  imageToUpload : File;\n  edit : number | null = 0;\n  imageErr : string;\n\n  firstname : string;\n  lastname : string;\n  email : string;\n  phonenumber : string;\n  username : string;\n  image_path : string;\n\n  workshopsPart : Workshop[];\n  likedWorkshops : Workshop[];\n  workshopComments : WorkshopComments[];\n\n  changeEmail(){\n    this.userService.changeEmail(this.username, this.emailUpd).subscribe((resp)=>{\n      this.email = this.emailUpd;\n    })\n  }\n  changeUsername(){\n    this.userService.changeUsername(this.username, this.usernameUpd).subscribe((resp)=>{\n      if(resp['message'] == 'Username changed!'){\n        this.username = this.usernameUpd;\n      }\n    })\n  }\n  changeFirstname(){\n    this.userService.changeFirstname(this.username, this.firstnameUpd).subscribe((resp)=>{\n      this.firstname = this.firstnameUpd;\n    })\n  }\n  changeLastname(){\n    this.userService.changeLastname(this.username, this.lastnameUpd).subscribe((resp)=>{\n      this.lastname = this.lastnameUpd;\n    })\n  }\n  changePhonenumber(){\n    this.userService.changePhonenumber(this.username, this.phonenumberUpd).subscribe((resp)=>{\n      this.phonenumber = this.phonenumberUpd;\n    })\n  }\n  editEnable(){\n    this.edit = (this.edit == 0? 1 : 0);\n  }\n  changePicture(){\n    let formData : FormData = new FormData();\n    formData.append('username', this.username);\n    formData.append('image', this.imageToUpload);\n    \n    this.userService.changeProfilePic(formData).subscribe((resp)=>{\n      this.image_path = resp['image_path'];\n    })\n  }\n  getWorkshops(){\n    this.workshopService.getWorkshopsByParticipation(this.username, 1).subscribe((resp)=>{\n        this.workshopsPart = resp as Workshop[];\n    })\n  }\n  getLikedWorkshops(){\n    this.workshopService.getWorkshopsByLikes(this.username).subscribe((resp)=>{\n      \n      this.likedWorkshops = resp as Workshop[];\n\n    })\n  }\n  getWorkshopComments(){\n    this.workshopService.getWorkshopCommentsByUser(this.username).subscribe((resp)=>{\n      this.workshopComments = resp as WorkshopComments[];\n    })\n  }\n  unlikeWorkshop(workshop){\n    let workshopId = workshop._id;\n    this.workshopService.unlikeWorkshop(this.username, workshopId).subscribe((resp)=>{\n      this.getWorkshops();\n      this.getLikedWorkshops();\n    })\n  }\n  deleteComment(workshopComment){\n    let workshopId = workshopComment.workshopId;\n    this.workshopService.deleteComment(this.username, workshopId).subscribe((resp)=>{\n      this.getWorkshopComments();\n    })\n\n  }\n  editComment(workshopComment){\n    let workshopId = workshopComment.workshopId;\n    sessionStorage.setItem('workshopToEdit', workshopId);\n    this.router.navigate(['edit-comment']);\n    // this.workshopService.editComment(this.username,workshopId).subscribe((resp)=>{\n    //   this.getWorkshopComments();\n    // })\n  }\n\n\n  ////////////////////////////////////////////////\n  sortByWorkShopName(){\n    this.workshopsPart.sort((w1, w2)=> w1.workshopName.toLowerCase() > w2.workshopName.toLowerCase()? 1: -1);\n  }\n  sortByWorkShopDate(){\n    this.workshopsPart.sort((w1, w2)=> w1.workshopDate > w2.workshopDate? -1: 1);\n  }\n  sortByWorkShopPlace(){\n    this.workshopsPart.sort((w1, w2)=> w1.workshopPlace.toLowerCase() > w2.workshopPlace.toLowerCase()? 1: -1);\n  }\n  sortByWorkShopDesc(){\n    this.workshopsPart.sort((w1, w2)=> w1.workshopDesc.toLowerCase() > w2.workshopDesc.toLowerCase()? 1: -1);\n  }\n  sortByWorkShopLikes(){\n    this.workshopsPart.sort((w1, w2)=> w1.numOfLikes > w2.numOfLikes? -1: 1);\n  }\n  \n  uploadImage(files: FileList):void{\n    this.imageToUpload = files.item(0);\n    let image = new Image()\n    image.src = window.URL.createObjectURL(this.imageToUpload)\n    image.onload = () => {\n      if(image.width < 100 || image.height < 100 || image.width > 300 || image.height > 300){\n        this.imageErr = '0';\n      } else {\n        this.imageErr = '2';\n        \n      }                \n    }\n  }\n  \n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}