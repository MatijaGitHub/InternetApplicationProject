{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../workshop.service\";\nimport * as i2 from \"@angular/common\";\nfunction ChatComponent_tr_1_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 3);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const message_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", message_r1.message, \" \");\n  }\n}\nfunction ChatComponent_tr_1_td_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const message_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", message_r1.message, \" \");\n  }\n}\nfunction ChatComponent_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtemplate(1, ChatComponent_tr_1_td_1_Template, 2, 1, \"td\", 1);\n    i0.ɵɵtemplate(2, ChatComponent_tr_1_td_2_Template, 2, 1, \"td\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const message_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", message_r1.user == ctx_r0.userFrom);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", message_r1.user != ctx_r0.userFrom);\n  }\n}\nexport class ChatComponent {\n  constructor(workshopService) {\n    this.workshopService = workshopService;\n  }\n  ngOnInit() {\n    this.usernameTo = sessionStorage.getItem('usernameTo');\n    this.usernameFrom = sessionStorage.getItem('usernameFrom');\n    this.workshopId = sessionStorage.getItem('workshopId');\n    this.workshopService.getChat(this.usernameFrom, this.workshopId).subscribe(resp => {\n      this.chat = resp;\n    });\n  }\n}\nChatComponent.ɵfac = function ChatComponent_Factory(t) {\n  return new (t || ChatComponent)(i0.ɵɵdirectiveInject(i1.WorkshopService));\n};\nChatComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ChatComponent,\n  selectors: [[\"app-chat\"]],\n  decls: 2,\n  vars: 1,\n  consts: [[4, \"ngFor\", \"ngForOf\"], [\"style\", \"display: flex; justify-content: left;\", 4, \"ngIf\"], [\"style\", \"display: flex; justify-content: right;\", 4, \"ngIf\"], [2, \"display\", \"flex\", \"justify-content\", \"left\"], [2, \"display\", \"flex\", \"justify-content\", \"right\"]],\n  template: function ChatComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"table\");\n      i0.ɵɵtemplate(1, ChatComponent_tr_1_Template, 3, 2, \"tr\", 0);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.chat.messages);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;IAEQA,6BAAmF;IAC/EA,YACJ;IAAAA,iBAAK;;;;IADDA,eACJ;IADIA,mDACJ;;;;;IACAA,6BAAoF;IAChFA,YACJ;IAAAA,iBAAK;;;;IADDA,eACJ;IADIA,mDACJ;;;;;IANJA,0BAA0C;IACtCA,iEAEK;IACLA,iEAEK;IACTA,iBAAK;;;;;IANIA,eAA8B;IAA9BA,yDAA8B;IAG9BA,eAA8B;IAA9BA,yDAA8B;;;ACI3C,OAAM,MAAOC,aAAa;EAExBC,YAAoBC,eAAgC;IAAhC,oBAAe,GAAfA,eAAe;EAAqB;EAQxDC,QAAQ;IACN,IAAI,CAACC,UAAU,GAAGC,cAAc,CAACC,OAAO,CAAC,YAAY,CAAC;IACtD,IAAI,CAACC,YAAY,GAAGF,cAAc,CAACC,OAAO,CAAC,cAAc,CAAC;IAC1D,IAAI,CAACE,UAAU,GAAGH,cAAc,CAACC,OAAO,CAAC,YAAY,CAAC;IACtD,IAAI,CAACJ,eAAe,CAACO,OAAO,CAAC,IAAI,CAACF,YAAY,EAAE,IAAI,CAACC,UAAU,CAAC,CAACE,SAAS,CAAEC,IAAI,IAAG;MACjF,IAAI,CAACC,IAAI,GAAGD,IAAY;IAC1B,CAAC,CAAC;EACJ;;AAjBWX,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAa;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDT1BlB,6BAAO;MACHA,4DAOK;MACTA,iBAAQ;;;MARoBA,eAAgB;MAAhBA,2CAAgB","names":["i0","ChatComponent","constructor","workshopService","ngOnInit","usernameTo","sessionStorage","getItem","usernameFrom","workshopId","getChat","subscribe","resp","chat","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Matija Milosevic\\Downloads\\PIA\\InternetApplicationProject\\Projekat\\frontend\\src\\app\\chat\\chat.component.html","C:\\Users\\Matija Milosevic\\Downloads\\PIA\\InternetApplicationProject\\Projekat\\frontend\\src\\app\\chat\\chat.component.ts"],"sourcesContent":["<table>\n    <tr *ngFor=\"let message of chat.messages\">\n        <td *ngIf=\"message.user == userFrom\" style=\"display: flex; justify-content: left;\">\n            {{message.message}}\n        </td>\n        <td *ngIf=\"message.user != userFrom\" style=\"display: flex; justify-content: right;\">\n            {{message.message}}\n        </td>\n    </tr>\n</table>\n","import { Component, OnInit } from '@angular/core';\nimport { Chat } from '../models/chat';\nimport { WorkshopService } from '../workshop.service';\n\n@Component({\n  selector: 'app-chat',\n  templateUrl: './chat.component.html',\n  styleUrls: ['./chat.component.css']\n})\nexport class ChatComponent implements OnInit {\n\n  constructor(private workshopService: WorkshopService) { }\n\n\n\n  usernameTo: string;\n  usernameFrom: string;\n  workshopId: string;\n  chat: Chat;\n  ngOnInit(): void {\n    this.usernameTo = sessionStorage.getItem('usernameTo');\n    this.usernameFrom = sessionStorage.getItem('usernameFrom');\n    this.workshopId = sessionStorage.getItem('workshopId');\n    this.workshopService.getChat(this.usernameFrom, this.workshopId).subscribe((resp)=>{\n      this.chat = resp as Chat;\n    })\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}