{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"../workshop.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/material/sidenav\";\nfunction EditUsersComponent_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"button\", 8);\n    i0.ɵɵtext(2, \"All users\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditUsersComponent_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"button\", 9);\n    i0.ɵɵtext(2, \"Registration requests\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditUsersComponent_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"button\", 10);\n    i0.ɵɵtext(2, \"Add new user\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditUsersComponent_tr_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"button\", 11);\n    i0.ɵɵtext(2, \"Aprove workshops\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditUsersComponent_tr_24_td_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function EditUsersComponent_tr_24_td_7_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r22);\n      const userIndex_r6 = i0.ɵɵnextContext().index;\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.firstnameUpd[userIndex_r6] = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const userIndex_r6 = i0.ɵɵnextContext().index;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.firstnameUpd[userIndex_r6]);\n  }\n}\nfunction EditUsersComponent_tr_24_td_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function EditUsersComponent_tr_24_td_8_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext();\n      const user_r5 = ctx_r26.$implicit;\n      const userIndex_r6 = ctx_r26.index;\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.changeFirstname(user_r5, userIndex_r6));\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditUsersComponent_tr_24_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function EditUsersComponent_tr_24_td_14_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r29);\n      const userIndex_r6 = i0.ɵɵnextContext().index;\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.lastnameUpd[userIndex_r6] = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const userIndex_r6 = i0.ɵɵnextContext().index;\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r9.lastnameUpd[userIndex_r6]);\n  }\n}\nfunction EditUsersComponent_tr_24_td_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function EditUsersComponent_tr_24_td_15_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r34);\n      const ctx_r33 = i0.ɵɵnextContext();\n      const user_r5 = ctx_r33.$implicit;\n      const userIndex_r6 = ctx_r33.index;\n      const ctx_r32 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r32.changeLastname(user_r5, userIndex_r6));\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditUsersComponent_tr_24_td_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function EditUsersComponent_tr_24_td_21_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r36);\n      const userIndex_r6 = i0.ɵɵnextContext().index;\n      const ctx_r35 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r35.usernameUpd[userIndex_r6] = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const userIndex_r6 = i0.ɵɵnextContext().index;\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r11.usernameUpd[userIndex_r6]);\n  }\n}\nfunction EditUsersComponent_tr_24_td_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function EditUsersComponent_tr_24_td_22_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r40 = i0.ɵɵnextContext();\n      const user_r5 = ctx_r40.$implicit;\n      const userIndex_r6 = ctx_r40.index;\n      const ctx_r39 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r39.changeUsername(user_r5, userIndex_r6));\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditUsersComponent_tr_24_td_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r43 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 16);\n    i0.ɵɵlistener(\"ngModelChange\", function EditUsersComponent_tr_24_td_28_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r43);\n      const userIndex_r6 = i0.ɵɵnextContext().index;\n      const ctx_r42 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r42.phonenumberUpd[userIndex_r6] = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const userIndex_r6 = i0.ɵɵnextContext().index;\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r13.phonenumberUpd[userIndex_r6]);\n  }\n}\nfunction EditUsersComponent_tr_24_td_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r48 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function EditUsersComponent_tr_24_td_29_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r47 = i0.ɵɵnextContext();\n      const user_r5 = ctx_r47.$implicit;\n      const userIndex_r6 = ctx_r47.index;\n      const ctx_r46 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r46.changePhonenumber(user_r5, userIndex_r6));\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditUsersComponent_tr_24_td_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r50 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 17);\n    i0.ɵɵlistener(\"ngModelChange\", function EditUsersComponent_tr_24_td_35_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r50);\n      const userIndex_r6 = i0.ɵɵnextContext().index;\n      const ctx_r49 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r49.emailUpd[userIndex_r6] = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const userIndex_r6 = i0.ɵɵnextContext().index;\n    const ctx_r15 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r15.emailUpd[userIndex_r6]);\n  }\n}\nfunction EditUsersComponent_tr_24_td_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r55 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function EditUsersComponent_tr_24_td_36_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r55);\n      const ctx_r54 = i0.ɵɵnextContext();\n      const user_r5 = ctx_r54.$implicit;\n      const userIndex_r6 = ctx_r54.index;\n      const ctx_r53 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r53.changeEmail(user_r5, userIndex_r6));\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditUsersComponent_tr_24_td_43_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r58 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"div\", 18)(2, \"input\", 19);\n    i0.ɵɵlistener(\"change\", function EditUsersComponent_tr_24_td_43_Template_input_change_2_listener($event) {\n      i0.ɵɵrestoreView(_r58);\n      const userIndex_r6 = i0.ɵɵnextContext().index;\n      const ctx_r56 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r56.uploadImage($event.target.files, userIndex_r6));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction EditUsersComponent_tr_24_td_44_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r61 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function EditUsersComponent_tr_24_td_44_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r61);\n      const ctx_r60 = i0.ɵɵnextContext();\n      const user_r5 = ctx_r60.$implicit;\n      const userIndex_r6 = ctx_r60.index;\n      const ctx_r59 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r59.changePicture(user_r5, userIndex_r6));\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditUsersComponent_tr_24_p_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"On\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditUsersComponent_tr_24_p_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Off\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditUsersComponent_tr_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r63 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"table\")(2, \"tr\")(3, \"td\");\n    i0.ɵɵtext(4, \" Firstname: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, EditUsersComponent_tr_24_td_7_Template, 2, 1, \"td\", 5);\n    i0.ɵɵtemplate(8, EditUsersComponent_tr_24_td_8_Template, 3, 0, \"td\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"tr\")(10, \"td\");\n    i0.ɵɵtext(11, \" Lastname: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, EditUsersComponent_tr_24_td_14_Template, 2, 1, \"td\", 5);\n    i0.ɵɵtemplate(15, EditUsersComponent_tr_24_td_15_Template, 3, 0, \"td\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"tr\")(17, \"td\");\n    i0.ɵɵtext(18, \" Username: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(21, EditUsersComponent_tr_24_td_21_Template, 2, 1, \"td\", 5);\n    i0.ɵɵtemplate(22, EditUsersComponent_tr_24_td_22_Template, 3, 0, \"td\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"tr\")(24, \"td\");\n    i0.ɵɵtext(25, \" Phone number: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"td\");\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(28, EditUsersComponent_tr_24_td_28_Template, 2, 1, \"td\", 5);\n    i0.ɵɵtemplate(29, EditUsersComponent_tr_24_td_29_Template, 3, 0, \"td\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"tr\")(31, \"td\");\n    i0.ɵɵtext(32, \" Email: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"td\");\n    i0.ɵɵtext(34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(35, EditUsersComponent_tr_24_td_35_Template, 2, 1, \"td\", 5);\n    i0.ɵɵtemplate(36, EditUsersComponent_tr_24_td_36_Template, 3, 0, \"td\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(37, \"tr\");\n    i0.ɵɵelementStart(38, \"tr\")(39, \"td\");\n    i0.ɵɵtext(40, \" Profile picture: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"td\");\n    i0.ɵɵelement(42, \"img\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(43, EditUsersComponent_tr_24_td_43_Template, 3, 0, \"td\", 5);\n    i0.ɵɵtemplate(44, EditUsersComponent_tr_24_td_44_Template, 3, 0, \"td\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"tr\")(46, \"td\")(47, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function EditUsersComponent_tr_24_Template_button_click_47_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r63);\n      const userIndex_r6 = restoredCtx.index;\n      const ctx_r62 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r62.editEnable(userIndex_r6));\n    });\n    i0.ɵɵtext(48, \"Edit mode\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(49, \"td\");\n    i0.ɵɵtemplate(50, EditUsersComponent_tr_24_p_50_Template, 2, 0, \"p\", 5);\n    i0.ɵɵtemplate(51, EditUsersComponent_tr_24_p_51_Template, 2, 0, \"p\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(52, \"td\")(53, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function EditUsersComponent_tr_24_Template_button_click_53_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r63);\n      const user_r5 = restoredCtx.$implicit;\n      const userIndex_r6 = restoredCtx.index;\n      const ctx_r64 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r64.deleteUser(user_r5, userIndex_r6));\n    });\n    i0.ɵɵtext(54, \"Delete user\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const user_r5 = ctx.$implicit;\n    const userIndex_r6 = ctx.index;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", user_r5.firstname, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.edit[userIndex_r6] == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.edit[userIndex_r6] == 1);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", user_r5.lastname, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.edit[userIndex_r6] == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.edit[userIndex_r6] == 1);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", user_r5.username, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.edit[userIndex_r6] == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.edit[userIndex_r6] == 1);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", user_r5.phonenumber, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.edit[userIndex_r6] == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.edit[userIndex_r6] == 1);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", user_r5.email, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.edit[userIndex_r6] == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.edit[userIndex_r6] == 1);\n    i0.ɵɵadvance(6);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"http://localhost:4000/\", user_r5.image_path.slice(7), \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.edit[userIndex_r6] == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.edit[userIndex_r6] == 1);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.edit[userIndex_r6] == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.edit[userIndex_r6] == 0);\n  }\n}\nexport class EditUsersComponent {\n  constructor(userService, workshopService, router) {\n    this.userService = userService;\n    this.workshopService = workshopService;\n    this.router = router;\n    this.edit = [];\n    this.firstnameUpd = [];\n    this.lastnameUpd = [];\n    this.usernameUpd = [];\n    this.phonenumberUpd = [];\n    this.emailUpd = [];\n    this.imageToUpload = [];\n    this.user_type = 2;\n  }\n  ngOnInit() {\n    this.userService.getAllUsers().subscribe(resp => {\n      this.users = resp;\n      this.firstnameUpd = [];\n      this.lastnameUpd = [];\n      this.usernameUpd = [];\n      this.emailUpd = [];\n      this.phonenumberUpd = [];\n      this.imageToUpload = [];\n      this.edit = [];\n    });\n  }\n  changeFirstname(user, index) {\n    this.userService.changeFirstname(user.username, this.firstnameUpd[index]).subscribe(resp => {\n      this.userService.getAllUsers().subscribe(resp2 => {\n        this.users = resp2;\n        this.firstnameUpd = [];\n        this.lastnameUpd = [];\n        this.usernameUpd = [];\n        this.emailUpd = [];\n        this.phonenumberUpd = [];\n        this.imageToUpload = [];\n        this.edit = [];\n      });\n    });\n  }\n  changeLastname(user, index) {\n    this.userService.changeLastname(user.username, this.lastnameUpd[index]).subscribe(resp => {\n      this.userService.getAllUsers().subscribe(resp2 => {\n        this.users = resp2;\n        this.firstnameUpd = [];\n        this.lastnameUpd = [];\n        this.usernameUpd = [];\n        this.emailUpd = [];\n        this.phonenumberUpd = [];\n        this.imageToUpload = [];\n        this.edit = [];\n      });\n    });\n  }\n  changeUsername(user, index) {\n    this.userService.changeUsername(user.username, this.usernameUpd[index]).subscribe(resp => {\n      this.userService.getAllUsers().subscribe(resp2 => {\n        this.users = resp2;\n        this.firstnameUpd = [];\n        this.lastnameUpd = [];\n        this.usernameUpd = [];\n        this.emailUpd = [];\n        this.phonenumberUpd = [];\n        this.imageToUpload = [];\n        this.edit = [];\n      });\n    });\n  }\n  changePhonenumber(user, index) {\n    this.userService.changePhonenumber(user.username, this.phonenumberUpd[index]).subscribe(resp => {\n      this.userService.getAllUsers().subscribe(resp2 => {\n        this.users = resp2;\n        this.firstnameUpd = [];\n        this.lastnameUpd = [];\n        this.usernameUpd = [];\n        this.emailUpd = [];\n        this.phonenumberUpd = [];\n        this.imageToUpload = [];\n        this.edit = [];\n      });\n    });\n  }\n  changeEmail(user, index) {\n    this.userService.changeEmail(user.username, this.emailUpd[index]).subscribe(resp => {\n      this.userService.getAllUsers().subscribe(resp2 => {\n        this.users = resp2;\n        this.firstnameUpd = [];\n        this.lastnameUpd = [];\n        this.usernameUpd = [];\n        this.emailUpd = [];\n        this.phonenumberUpd = [];\n        this.imageToUpload = [];\n        this.edit = [];\n      });\n    });\n  }\n  deleteUser(user, userIndex) {\n    this.userService.deleteUser(user.username).subscribe(resp => {\n      console.log(resp);\n      this.userService.getAllUsers().subscribe(resp2 => {\n        this.users = resp2;\n        this.firstnameUpd = [];\n        this.lastnameUpd = [];\n        this.usernameUpd = [];\n        this.emailUpd = [];\n        this.phonenumberUpd = [];\n        this.imageToUpload = [];\n        this.edit = [];\n      });\n    });\n  }\n  changePicture(user, index) {\n    let formData = new FormData();\n    formData.append('username', user.username);\n    formData.append('image', this.imageToUpload[index]);\n    this.userService.changeProfilePic(formData).subscribe(resp => {\n      this.userService.getAllUsers().subscribe(resp2 => {\n        this.users = resp2;\n        this.firstnameUpd = [];\n        this.lastnameUpd = [];\n        this.usernameUpd = [];\n        this.emailUpd = [];\n        this.phonenumberUpd = [];\n        this.imageToUpload = [];\n        this.edit = [];\n      });\n      //this.image_path = resp['image_path'];\n    });\n  }\n\n  editEnable(index) {\n    if (this.edit[index] == 1) {\n      this.edit[index] = 0;\n    } else {\n      this.edit[index] = 1;\n    }\n  }\n  uploadImage(files, index) {\n    this.imageToUpload[index] = files.item(0);\n    let image = new Image();\n    image.src = window.URL.createObjectURL(this.imageToUpload[index]);\n    image.onload = () => {\n      if (image.width < 100 || image.height < 100 || image.width > 300 || image.height > 300) {\n        this.imageErr = '0';\n      } else {\n        this.imageErr = '2';\n      }\n    };\n  }\n  changePass() {\n    this.router.navigate(['change-password']);\n  }\n  logout() {\n    sessionStorage.clear();\n    this.router.navigate(['']);\n  }\n}\nEditUsersComponent.ɵfac = function EditUsersComponent_Factory(t) {\n  return new (t || EditUsersComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.WorkshopService), i0.ɵɵdirectiveInject(i3.Router));\n};\nEditUsersComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditUsersComponent,\n  selectors: [[\"app-edit-users\"]],\n  decls: 25,\n  vars: 5,\n  consts: [[1, \"example-container\"], [\"mode\", \"side\", \"opened\", \"\"], [\"routerLink\", \"/user-info\"], [\"routerLink\", \"/user-workshops\"], [\"routerLink\", \"/become-organizer\"], [4, \"ngIf\"], [3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [\"routerLink\", \"/edit-users\"], [\"routerLink\", \"/registration-requests\"], [\"routerLink\", \"/insert-new-user\"], [\"routerLink\", \"/workshop-aprove\"], [\"onerror\", \"this.src=\\\"http://localhost:4000/blank-profile-picture-973460__340.webp\\\"\", \"width\", \"50\", \"height\", \"50\", 3, \"src\"], [\"type\", \"text\", \"name\", \"firstnameUpdate\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"lastnameUpdate\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"usernameUpdate\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"phonenumberUpdate\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"emailUpdate\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-group\"], [\"type\", \"file\", 3, \"change\"]],\n  template: function EditUsersComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-sidenav-container\", 0)(1, \"mat-sidenav\", 1)(2, \"table\")(3, \"tr\")(4, \"button\", 2);\n      i0.ɵɵtext(5, \"Profile\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"tr\")(7, \"button\", 3);\n      i0.ɵɵtext(8, \"Workshops\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"tr\")(10, \"button\", 4);\n      i0.ɵɵtext(11, \"Become organizer\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(12, EditUsersComponent_tr_12_Template, 3, 0, \"tr\", 5);\n      i0.ɵɵtemplate(13, EditUsersComponent_tr_13_Template, 3, 0, \"tr\", 5);\n      i0.ɵɵtemplate(14, EditUsersComponent_tr_14_Template, 3, 0, \"tr\", 5);\n      i0.ɵɵtemplate(15, EditUsersComponent_tr_15_Template, 3, 0, \"tr\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"form\")(17, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function EditUsersComponent_Template_button_click_17_listener() {\n        return ctx.changePass();\n      });\n      i0.ɵɵtext(18, \"Change password\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"form\")(20, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function EditUsersComponent_Template_button_click_20_listener() {\n        return ctx.logout();\n      });\n      i0.ɵɵtext(21, \"Logout\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(22, \"mat-sidenav-content\")(23, \"table\");\n      i0.ɵɵtemplate(24, EditUsersComponent_tr_24_Template, 55, 20, \"tr\", 7);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngIf\", ctx.user_type == 2);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.user_type == 2);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.user_type == 2);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.user_type == 2);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngForOf\", ctx.users);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i3.RouterLink, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.NgModel, i5.NgForm, i6.MatSidenav, i6.MatSidenavContainer, i6.MatSidenavContent],\n  styles: [\".example-container[_ngcontent-%COMP%] {\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    right: 0;\\r\\n    background: lightblue;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZWRpdC11c2Vycy9lZGl0LXVzZXJzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7SUFDbEIsTUFBTTtJQUNOLFNBQVM7SUFDVCxPQUFPO0lBQ1AsUUFBUTtJQUNSLHFCQUFxQjtFQUN2QiIsInNvdXJjZXNDb250ZW50IjpbIi5leGFtcGxlLWNvbnRhaW5lciB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBib3R0b206IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICBiYWNrZ3JvdW5kOiBsaWdodGJsdWU7XHJcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","EditUsersComponent","constructor","userService","workshopService","router","ngOnInit","getAllUsers","subscribe","resp","users","firstnameUpd","lastnameUpd","usernameUpd","emailUpd","phonenumberUpd","imageToUpload","edit","changeFirstname","user","index","username","resp2","changeLastname","changeUsername","changePhonenumber","changeEmail","deleteUser","userIndex","console","log","changePicture","formData","FormData","append","changeProfilePic","editEnable","uploadImage","files","item","image","Image","src","window","URL","createObjectURL","onload","width","height","imageErr","changePass","navigate","logout","sessionStorage","clear","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Matija Milosevic\\Downloads\\PIA\\InternetApplicationProject\\Projekat\\frontend\\src\\app\\edit-users\\edit-users.component.html","C:\\Users\\Matija Milosevic\\Downloads\\PIA\\InternetApplicationProject\\Projekat\\frontend\\src\\app\\edit-users\\edit-users.component.ts"],"sourcesContent":["<mat-sidenav-container class=\"example-container\">\n    <mat-sidenav mode=\"side\" opened>\n        <table>\n            <tr>\n                <button routerLink=\"/user-info\">Profile</button>\n            </tr>\n            <tr>\n                <button routerLink=\"/user-workshops\">Workshops</button>\n            </tr>\n            <tr>\n                <button routerLink=\"/become-organizer\">Become organizer</button>\n            </tr>\n            <tr *ngIf=\"user_type == 2\">\n                <button routerLink=\"/edit-users\">All users</button>\n           </tr>\n           <tr *ngIf=\"user_type == 2\">\n                <button routerLink=\"/registration-requests\">Registration requests</button>\n            </tr>\n            <tr *ngIf=\"user_type==2\">\n                <button routerLink=\"/insert-new-user\">Add new user</button>\n            </tr>\n            <tr *ngIf=\"user_type==2\">\n                <button routerLink=\"/workshop-aprove\">Aprove workshops</button>\n            </tr>\n           \n\n        </table>\n        \n            <form>\n                <button (click)=\"changePass()\">Change password</button>\n            </form>\n        \n            <form>\n                <button (click)=\"logout()\">Logout</button>\n            </form>\n        \n\n\n    </mat-sidenav>\n    <mat-sidenav-content>\n        <table>\n            <tr *ngFor=\"let user of users;let userIndex = index;\">\n                <table>\n                    <tr>\n                        <td>\n                            Firstname:\n                        </td>\n                        <td>\n                            {{user.firstname}}\n                        </td>\n                        <td *ngIf=\"edit[userIndex] == 1\">\n                            <input type=\"text\" name=\"firstnameUpdate\" [(ngModel)]=\"firstnameUpd[userIndex]\">\n                        </td>\n                        <td *ngIf=\"edit[userIndex] == 1\">\n                            <button (click)=\"changeFirstname(user,userIndex)\">Change</button>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            Lastname:\n                        </td>\n                        <td>\n                            {{user.lastname}}\n                        </td>\n                        <td *ngIf=\"edit[userIndex] == 1\">\n                            <input type=\"text\" name=\"lastnameUpdate\" [(ngModel)]=\"lastnameUpd[userIndex]\">\n                        </td>\n                        <td *ngIf=\"edit[userIndex] == 1\">\n                            <button (click)=\"changeLastname(user,userIndex)\">Change</button>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            Username:\n                        </td>\n                        <td>\n                            {{user.username}}\n                        </td>\n                        <td *ngIf=\"edit[userIndex] == 1\">\n                            <input type=\"text\" name=\"usernameUpdate\" [(ngModel)]=\"usernameUpd[userIndex]\">\n                        </td>\n                        <td *ngIf=\"edit[userIndex] == 1\">\n                            <button (click)=\"changeUsername(user,userIndex)\">Change</button>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            Phone number:\n                        </td>\n                        <td>\n                            {{user.phonenumber}}\n                        </td>\n                        <td *ngIf=\"edit[userIndex] == 1\">\n                            <input type=\"text\" name=\"phonenumberUpdate\" [(ngModel)]=\"phonenumberUpd[userIndex]\">\n                        </td>\n                        <td *ngIf=\"edit[userIndex] == 1\">\n                            <button (click)=\"changePhonenumber(user,userIndex)\">Change</button>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            Email:\n                        </td>\n                        <td>\n                            {{user.email}}\n                        </td>\n                        <td *ngIf=\"edit[userIndex] == 1\">\n                            <input type=\"text\" name=\"emailUpdate\" [(ngModel)]=\"emailUpd[userIndex]\">\n                        </td>\n                        <td *ngIf=\"edit[userIndex] == 1\">\n                            <button (click)=\"changeEmail(user,userIndex)\">Change</button>\n                        </td>\n                    </tr>\n                    <tr>\n                        <tr>\n                            <td>\n                                Profile picture:\n                            </td>\n                            <td>\n                                <img src=\"http://localhost:4000/{{user.image_path.slice(7)}}\" onerror='this.src=\"http://localhost:4000/blank-profile-picture-973460__340.webp\"' width=\"50\" height=\"50\">\n                            </td>\n                            <td *ngIf=\"edit[userIndex] == 1\">\n                                <div class=\"form-group\">\n                                        \n                                    <input type=\"file\" (change)=\"uploadImage($any($event).target.files, userIndex)\">\n                                    </div>\n                            </td>\n                            <td *ngIf=\"edit[userIndex] == 1\">\n                                <button (click)=\"changePicture(user,userIndex)\">Change</button>\n                            </td>\n                        </tr>\n                        <tr>\n                        <td>\n                            <button (click)=\"editEnable(userIndex)\">Edit mode</button>\n                        </td>\n                        <td>\n                            <p *ngIf=\"edit[userIndex] == 1\">On</p>\n                            <p *ngIf=\"edit[userIndex] == 0\">Off</p>\n                        </td>\n                        <td>\n                            <button (click)=\"deleteUser(user, userIndex)\">Delete user</button>\n                        </td>\n                    </tr>\n                </table>\n            </tr>\n        </table>\n    </mat-sidenav-content>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { User } from '../models/user';\nimport { UserService } from '../user.service';\nimport { WorkshopService } from '../workshop.service';\n\n@Component({\n  selector: 'app-edit-users',\n  templateUrl: './edit-users.component.html',\n  styleUrls: ['./edit-users.component.css']\n})\nexport class EditUsersComponent implements OnInit {\n\n  constructor(private userService: UserService, private workshopService: WorkshopService,\n    private router : Router) { }\n\n\n  users : User[]\n  edit : number[] | null = [];\n  firstnameUpd : string[] | null = []\n  lastnameUpd : string[] | null = []\n  usernameUpd : string[] | null = []\n  phonenumberUpd: string[] | null = []\n  emailUpd: string[] | null = []\n  imageToUpload : File[] | null = []\n  imageErr : string;\n  user_type : number | null=2;\n  ngOnInit(): void {\n    this.userService.getAllUsers().subscribe((resp)=>{\n      this.users = resp as User[];\n      this.firstnameUpd = []\n      this.lastnameUpd = []\n      this.usernameUpd = []\n      this.emailUpd = []\n      this.phonenumberUpd = []\n      this.imageToUpload = []\n      this.edit = []\n    })\n  }\n  changeFirstname(user, index){\n    this.userService.changeFirstname(user.username, this.firstnameUpd[index]).subscribe((resp)=>{\n      this.userService.getAllUsers().subscribe((resp2)=>{\n        this.users = resp2 as User[];\n        this.firstnameUpd = []\n        this.lastnameUpd = []\n        this.usernameUpd = []\n        this.emailUpd = []\n        this.phonenumberUpd = []\n        this.imageToUpload = []\n        this.edit = []\n      })\n    })\n  }\n  changeLastname(user, index){\n    this.userService.changeLastname(user.username, this.lastnameUpd[index]).subscribe(resp=>{\n      this.userService.getAllUsers().subscribe((resp2)=>{\n        this.users = resp2 as User[];\n        this.firstnameUpd = []\n        this.lastnameUpd = []\n        this.usernameUpd = []\n        this.emailUpd = []\n        this.phonenumberUpd = []\n        this.imageToUpload = []\n        this.edit = []\n      })\n    })\n  }\n  changeUsername(user, index){\n    this.userService.changeUsername(user.username, this.usernameUpd[index]).subscribe((resp)=>{\n      this.userService.getAllUsers().subscribe((resp2)=>{\n        this.users = resp2 as User[];\n        this.firstnameUpd = []\n        this.lastnameUpd = []\n        this.usernameUpd = []\n        this.emailUpd = []\n        this.phonenumberUpd = []\n        this.imageToUpload = []\n        this.edit = []\n      })\n    })\n  }\n  changePhonenumber(user, index){\n    this.userService.changePhonenumber(user.username, this.phonenumberUpd[index]).subscribe((resp)=>{\n      this.userService.getAllUsers().subscribe((resp2)=>{\n        this.users = resp2 as User[];\n        this.firstnameUpd = []\n        this.lastnameUpd = []\n        this.usernameUpd = []\n        this.emailUpd = []\n        this.phonenumberUpd = []\n        this.imageToUpload = []\n        this.edit = []\n      })\n    })\n  }\n  changeEmail(user, index){\n    this.userService.changeEmail(user.username, this.emailUpd[index]).subscribe((resp)=>{\n      this.userService.getAllUsers().subscribe((resp2)=>{\n        this.users = resp2 as User[];\n        this.firstnameUpd = []\n        this.lastnameUpd = []\n        this.usernameUpd = []\n        this.emailUpd = []\n        this.phonenumberUpd = []\n        this.imageToUpload = []\n        this.edit = []\n      })\n    })\n  }\n  deleteUser(user, userIndex){\n    this.userService.deleteUser(user.username).subscribe((resp)=>{\n      console.log(resp);\n      this.userService.getAllUsers().subscribe((resp2)=>{\n        this.users = resp2 as User[];\n        this.firstnameUpd = []\n        this.lastnameUpd = []\n        this.usernameUpd = []\n        this.emailUpd = []\n        this.phonenumberUpd = []\n        this.imageToUpload = []\n        this.edit = []\n      })\n    })\n  }\n  changePicture(user, index){\n    let formData : FormData = new FormData();\n    formData.append('username', user.username);\n    formData.append('image', this.imageToUpload[index]);\n    \n    this.userService.changeProfilePic(formData).subscribe((resp)=>{\n      this.userService.getAllUsers().subscribe((resp2)=>{\n        this.users = resp2 as User[];\n        this.firstnameUpd = []\n        this.lastnameUpd = []\n        this.usernameUpd = []\n        this.emailUpd = []\n        this.phonenumberUpd = []\n        this.imageToUpload = []\n        this.edit = []\n      })\n      //this.image_path = resp['image_path'];\n    })\n  }\n  editEnable(index){\n    if(this.edit[index] == 1){\n      this.edit[index] = 0;\n    }\n    else{\n      this.edit[index] = 1;\n    }\n  }\n  uploadImage(files: FileList, index):void{\n    this.imageToUpload[index] = files.item(0);\n    let image = new Image()\n    image.src = window.URL.createObjectURL(this.imageToUpload[index])\n    image.onload = () => {\n      if(image.width < 100 || image.height < 100 || image.width > 300 || image.height > 300){\n        this.imageErr = '0';\n      } else {\n        this.imageErr = '2';\n        \n      } \n                  \n    }\n  }\n  changePass(){\n    this.router.navigate(['change-password']);\n  }\n  logout(){\n    sessionStorage.clear();\n    this.router.navigate(['']);\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}