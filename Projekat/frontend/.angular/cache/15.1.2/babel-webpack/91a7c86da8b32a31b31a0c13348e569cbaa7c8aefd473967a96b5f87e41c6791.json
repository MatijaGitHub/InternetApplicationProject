{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../workshop.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/material/sidenav\";\nfunction ProfileComponent_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"button\", 9);\n    i0.ɵɵtext(2, \"All users\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"button\", 10);\n    i0.ɵɵtext(2, \"Registration requests\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"button\", 11);\n    i0.ɵɵtext(2, \"Add new user\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_tr_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"button\", 12);\n    i0.ɵɵtext(2, \"Aprove workshops\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_td_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_td_29_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.firstnameUpd = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.firstnameUpd);\n  }\n}\nfunction ProfileComponent_td_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_td_30_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.changeFirstname());\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_td_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_td_36_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.lastnameUpd = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r6.lastnameUpd);\n  }\n}\nfunction ProfileComponent_td_37_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_td_37_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.changeLastname());\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_td_43_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_td_43_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.usernameUpd = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.usernameUpd);\n  }\n}\nfunction ProfileComponent_td_44_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r33 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_td_44_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r33);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r32.changeUsername());\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_td_50_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 16);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_td_50_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.phonenumberUpd = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r10.phonenumberUpd);\n  }\n}\nfunction ProfileComponent_td_51_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r37 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_td_51_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r37);\n      const ctx_r36 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r36.changePhonenumber());\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_td_57_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 17);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_td_57_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r39);\n      const ctx_r38 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r38.emailUpd = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r12.emailUpd);\n  }\n}\nfunction ProfileComponent_td_58_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_td_58_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r40 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r40.changeEmail());\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_td_65_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r43 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"div\", 18)(2, \"input\", 19);\n    i0.ɵɵlistener(\"change\", function ProfileComponent_td_65_Template_input_change_2_listener($event) {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r42 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r42.uploadImage($event.target.files));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ProfileComponent_td_66_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r45 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_td_66_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r45);\n      const ctx_r44 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r44.changePicture());\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_p_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"On\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProfileComponent_p_73_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Off\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProfileComponent_tr_107_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"img\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const workshop_r46 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"http://localhost:4000/\", workshop_r46.workshopImage, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r46.workshopName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r46.workshopDate, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r46.workshopPlace, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r46.workshopDesc, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r46.numOfLikes, \" \");\n  }\n}\nfunction ProfileComponent_tr_109_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r49 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_tr_109_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r49);\n      const workshop_r47 = restoredCtx.$implicit;\n      const ctx_r48 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r48.unlikeWorkshop(workshop_r47));\n    });\n    i0.ɵɵtext(5, \"Unlike\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const workshop_r47 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r47.workshopName, \" \");\n  }\n}\nfunction ProfileComponent_tr_124_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r52 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_tr_124_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r52);\n      const comment_r50 = restoredCtx.$implicit;\n      const ctx_r51 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r51.deleteComment(comment_r50));\n    });\n    i0.ɵɵtext(7, \"Delete\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"td\")(9, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_tr_124_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r52);\n      const comment_r50 = restoredCtx.$implicit;\n      const ctx_r53 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r53.editComment(comment_r50));\n    });\n    i0.ɵɵtext(10, \"Edit\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const comment_r50 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", comment_r50.workshopName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", comment_r50.comment, \" \");\n  }\n}\nfunction ProfileComponent_div_125_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r57 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"img\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\")(14, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_div_125_tr_19_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r57);\n      const workshop_r55 = restoredCtx.$implicit;\n      const ctx_r56 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r56.messages(workshop_r55));\n    });\n    i0.ɵɵtext(15, \"Messages\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const workshop_r55 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"http://localhost:4000/\", workshop_r55.workshopImage, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r55.workshopName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r55.workshopDate, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r55.workshopPlace, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r55.workshopDesc, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r55.numOfLikes, \" \");\n  }\n}\nfunction ProfileComponent_div_125_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h1\");\n    i0.ɵɵtext(2, \"Organized workshops:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\")(4, \"tr\")(5, \"td\");\n    i0.ɵɵtext(6, \" Workshop Image \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8, \" Workshop Name \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10, \" Workshop Date \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12, \" Workshop Place \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14, \" Workshop Desc \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16, \" Likes \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵtext(18, \" Messages \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(19, ProfileComponent_div_125_tr_19_Template, 16, 6, \"tr\", 8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r21 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(19);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r21.workshopsOrg);\n  }\n}\nexport class ProfileComponent {\n  constructor(userService, router, workshopService) {\n    this.userService = userService;\n    this.router = router;\n    this.workshopService = workshopService;\n    this.edit = 0;\n    this.firstname = sessionStorage.getItem('firstname');\n    this.lastname = sessionStorage.getItem('lastname');\n    this.username = sessionStorage.getItem('username');\n    this.phonenumber = sessionStorage.getItem('phonenumber');\n    this.email = sessionStorage.getItem('email');\n    this.user_type = +sessionStorage.getItem('user_type');\n    if (sessionStorage.getItem('imagePath') != null) {\n      this.image_path = sessionStorage.getItem('imagePath').slice(7);\n    } else {\n      this.image_path = \"backend/images/blank-profile-picture-973460__340.webp\";\n    }\n    this.getWorkshops();\n    this.getLikedWorkshops();\n    this.getWorkshopComments();\n    this.gerOrganizatorWorkshops();\n  }\n  ngOnInit() {}\n  changeEmail() {\n    this.userService.changeEmail(this.username, this.emailUpd).subscribe(resp => {\n      this.email = this.emailUpd;\n    });\n  }\n  changeUsername() {\n    this.userService.changeUsername(this.username, this.usernameUpd).subscribe(resp => {\n      if (resp['message'] == 'Username changed!') {\n        this.username = this.usernameUpd;\n      }\n    });\n  }\n  changeFirstname() {\n    this.userService.changeFirstname(this.username, this.firstnameUpd).subscribe(resp => {\n      this.firstname = this.firstnameUpd;\n    });\n  }\n  changeLastname() {\n    this.userService.changeLastname(this.username, this.lastnameUpd).subscribe(resp => {\n      this.lastname = this.lastnameUpd;\n    });\n  }\n  messages(workshop) {\n    this.router.navigate(['workshop-messages', {\n      workshopIdMess: workshop._id\n    }]);\n  }\n  changePhonenumber() {\n    this.userService.changePhonenumber(this.username, this.phonenumberUpd).subscribe(resp => {\n      this.phonenumber = this.phonenumberUpd;\n    });\n  }\n  editEnable() {\n    this.edit = this.edit == 0 ? 1 : 0;\n  }\n  changePicture() {\n    let formData = new FormData();\n    formData.append('username', this.username);\n    formData.append('image', this.imageToUpload);\n    this.userService.changeProfilePic(formData).subscribe(resp => {\n      this.image_path = resp['image_path'];\n    });\n  }\n  getWorkshops() {\n    this.workshopService.getWorkshopsByParticipation(this.username, 1).subscribe(resp => {\n      this.workshopsPart = resp;\n    });\n  }\n  gerOrganizatorWorkshops() {\n    this.workshopService.getWorkshopsByOrganizator(this.username).subscribe(resp => {\n      this.workshopsOrg = resp;\n    });\n  }\n  getLikedWorkshops() {\n    this.workshopService.getWorkshopsByLikes(this.username).subscribe(resp => {\n      this.likedWorkshops = resp;\n    });\n  }\n  getWorkshopComments() {\n    this.workshopService.getWorkshopCommentsByUser(this.username).subscribe(resp => {\n      this.workshopComments = resp;\n    });\n  }\n  unlikeWorkshop(workshop) {\n    let workshopId = workshop._id;\n    this.workshopService.unlikeWorkshop(this.username, workshopId).subscribe(resp => {\n      this.getWorkshops();\n      this.getLikedWorkshops();\n    });\n  }\n  deleteComment(workshopComment) {\n    let workshopId = workshopComment.workshopId;\n    this.workshopService.deleteComment(this.username, workshopId).subscribe(resp => {\n      this.getWorkshopComments();\n    });\n  }\n  editComment(workshopComment) {\n    let workshopId = workshopComment.workshopId;\n    sessionStorage.setItem('workshopToEdit', workshopId);\n    this.router.navigate(['edit-comment']);\n    // this.workshopService.editComment(this.username,workshopId).subscribe((resp)=>{\n    //   this.getWorkshopComments();\n    // })\n  }\n  ////////////////////////////////////////////////\n  sortByWorkShopName() {\n    this.workshopsPart.sort((w1, w2) => w1.workshopName.toLowerCase() > w2.workshopName.toLowerCase() ? 1 : -1);\n  }\n  sortByWorkShopDate() {\n    this.workshopsPart.sort((w1, w2) => w1.workshopDate > w2.workshopDate ? -1 : 1);\n  }\n  sortByWorkShopPlace() {\n    this.workshopsPart.sort((w1, w2) => w1.workshopPlace.toLowerCase() > w2.workshopPlace.toLowerCase() ? 1 : -1);\n  }\n  sortByWorkShopDesc() {\n    this.workshopsPart.sort((w1, w2) => w1.workshopDesc.toLowerCase() > w2.workshopDesc.toLowerCase() ? 1 : -1);\n  }\n  sortByWorkShopLikes() {\n    this.workshopsPart.sort((w1, w2) => w1.numOfLikes > w2.numOfLikes ? -1 : 1);\n  }\n  changePass() {\n    this.router.navigate(['change-password']);\n  }\n  logout() {\n    sessionStorage.clear();\n    this.router.navigate(['']);\n  }\n  uploadImage(files) {\n    this.imageToUpload = files.item(0);\n    let image = new Image();\n    image.src = window.URL.createObjectURL(this.imageToUpload);\n    image.onload = () => {\n      if (image.width < 100 || image.height < 100 || image.width > 300 || image.height > 300) {\n        this.imageErr = '0';\n      } else {\n        this.imageErr = '2';\n      }\n    };\n  }\n}\nProfileComponent.ɵfac = function ProfileComponent_Factory(t) {\n  return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.WorkshopService));\n};\nProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProfileComponent,\n  selectors: [[\"app-profile\"]],\n  decls: 126,\n  vars: 28,\n  consts: [[1, \"example-container\"], [\"mode\", \"side\", \"opened\", \"\"], [\"routerLink\", \"/user-info\"], [\"routerLink\", \"/user-workshops\"], [\"routerLink\", \"/become-organizer\"], [4, \"ngIf\"], [3, \"click\"], [\"onerror\", \"this.src=\\\"http://localhost:4000/blank-profile-picture-973460__340.webp\\\"\", \"width\", \"50\", \"height\", \"50\", 3, \"src\"], [4, \"ngFor\", \"ngForOf\"], [\"routerLink\", \"/edit-users\"], [\"routerLink\", \"/registration-requests\"], [\"routerLink\", \"/insert-new-user\"], [\"routerLink\", \"/workshop-aprove\"], [\"type\", \"text\", \"name\", \"firstnameUpdate\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"lastnameUpdate\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"usernameUpdate\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"phonenumberUpdate\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"emailUpdate\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-group\"], [\"type\", \"file\", 3, \"change\"], [\"onerror\", \"this.src=\\\"http://localhost:4000/workshop.webp\\\"\", \"width\", \"50\", \"height\", \"50\", 3, \"src\"]],\n  template: function ProfileComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-sidenav-container\", 0)(1, \"mat-sidenav\", 1)(2, \"table\")(3, \"tr\")(4, \"button\", 2);\n      i0.ɵɵtext(5, \"Profile\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"tr\")(7, \"button\", 3);\n      i0.ɵɵtext(8, \"Workshops\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"tr\")(10, \"button\", 4);\n      i0.ɵɵtext(11, \"Become organizer\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(12, ProfileComponent_tr_12_Template, 3, 0, \"tr\", 5);\n      i0.ɵɵtemplate(13, ProfileComponent_tr_13_Template, 3, 0, \"tr\", 5);\n      i0.ɵɵtemplate(14, ProfileComponent_tr_14_Template, 3, 0, \"tr\", 5);\n      i0.ɵɵtemplate(15, ProfileComponent_tr_15_Template, 3, 0, \"tr\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"form\")(17, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_17_listener() {\n        return ctx.changePass();\n      });\n      i0.ɵɵtext(18, \"Change password\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"form\")(20, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_20_listener() {\n        return ctx.logout();\n      });\n      i0.ɵɵtext(21, \"Logout\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(22, \"mat-sidenav-content\")(23, \"table\")(24, \"tr\")(25, \"td\");\n      i0.ɵɵtext(26, \" Firstname: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"td\");\n      i0.ɵɵtext(28);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(29, ProfileComponent_td_29_Template, 2, 1, \"td\", 5);\n      i0.ɵɵtemplate(30, ProfileComponent_td_30_Template, 3, 0, \"td\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"tr\")(32, \"td\");\n      i0.ɵɵtext(33, \" Lastname: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"td\");\n      i0.ɵɵtext(35);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(36, ProfileComponent_td_36_Template, 2, 1, \"td\", 5);\n      i0.ɵɵtemplate(37, ProfileComponent_td_37_Template, 3, 0, \"td\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"tr\")(39, \"td\");\n      i0.ɵɵtext(40, \" Username: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"td\");\n      i0.ɵɵtext(42);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(43, ProfileComponent_td_43_Template, 2, 1, \"td\", 5);\n      i0.ɵɵtemplate(44, ProfileComponent_td_44_Template, 3, 0, \"td\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"tr\")(46, \"td\");\n      i0.ɵɵtext(47, \" Phone number: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"td\");\n      i0.ɵɵtext(49);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(50, ProfileComponent_td_50_Template, 2, 1, \"td\", 5);\n      i0.ɵɵtemplate(51, ProfileComponent_td_51_Template, 3, 0, \"td\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(52, \"tr\")(53, \"td\");\n      i0.ɵɵtext(54, \" Email: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"td\");\n      i0.ɵɵtext(56);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(57, ProfileComponent_td_57_Template, 2, 1, \"td\", 5);\n      i0.ɵɵtemplate(58, ProfileComponent_td_58_Template, 3, 0, \"td\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(59, \"tr\");\n      i0.ɵɵelementStart(60, \"tr\")(61, \"td\");\n      i0.ɵɵtext(62, \" Profile picture: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(63, \"td\");\n      i0.ɵɵelement(64, \"img\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(65, ProfileComponent_td_65_Template, 3, 0, \"td\", 5);\n      i0.ɵɵtemplate(66, ProfileComponent_td_66_Template, 3, 0, \"td\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(67, \"tr\")(68, \"td\")(69, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_69_listener() {\n        return ctx.editEnable();\n      });\n      i0.ɵɵtext(70, \"Edit mode\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(71, \"td\");\n      i0.ɵɵtemplate(72, ProfileComponent_p_72_Template, 2, 0, \"p\", 5);\n      i0.ɵɵtemplate(73, ProfileComponent_p_73_Template, 2, 0, \"p\", 5);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(74, \"h1\");\n      i0.ɵɵtext(75, \"Participated workshops:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(76, \"table\")(77, \"tr\");\n      i0.ɵɵelement(78, \"td\");\n      i0.ɵɵelementStart(79, \"td\")(80, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_80_listener() {\n        return ctx.sortByWorkShopName();\n      });\n      i0.ɵɵtext(81, \"Sort\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(82, \"td\")(83, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_83_listener() {\n        return ctx.sortByWorkShopDate();\n      });\n      i0.ɵɵtext(84, \"Sort\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(85, \"td\")(86, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_86_listener() {\n        return ctx.sortByWorkShopPlace();\n      });\n      i0.ɵɵtext(87, \"Sort\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(88, \"td\")(89, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_89_listener() {\n        return ctx.sortByWorkShopDesc();\n      });\n      i0.ɵɵtext(90, \"Sort\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(91, \"td\")(92, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_92_listener() {\n        return ctx.sortByWorkShopLikes();\n      });\n      i0.ɵɵtext(93, \"Sort\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(94, \"tr\")(95, \"td\");\n      i0.ɵɵtext(96, \" Workshop Image \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(97, \"td\");\n      i0.ɵɵtext(98, \" Workshop Name \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(99, \"td\");\n      i0.ɵɵtext(100, \" Workshop Date \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(101, \"td\");\n      i0.ɵɵtext(102, \" Workshop Place \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(103, \"td\");\n      i0.ɵɵtext(104, \" Workshop Desc \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(105, \"td\");\n      i0.ɵɵtext(106, \" Likes \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(107, ProfileComponent_tr_107_Template, 13, 6, \"tr\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(108, \"table\");\n      i0.ɵɵtemplate(109, ProfileComponent_tr_109_Template, 6, 1, \"tr\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(110, \"table\")(111, \"tr\")(112, \"td\")(113, \"h4\");\n      i0.ɵɵtext(114, \"Workshop:\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(115, \"td\")(116, \"h3\");\n      i0.ɵɵtext(117, \"Comment:\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(118, \"td\")(119, \"h3\");\n      i0.ɵɵtext(120, \"Delete:\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(121, \"td\")(122, \"h3\");\n      i0.ɵɵtext(123, \"Edit:\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(124, ProfileComponent_tr_124_Template, 11, 2, \"tr\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(125, ProfileComponent_div_125_Template, 20, 1, \"div\", 5);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngIf\", ctx.user_type == 2);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.user_type == 2);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.user_type == 2);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.user_type == 2);\n      i0.ɵɵadvance(13);\n      i0.ɵɵtextInterpolate1(\" \", ctx.firstname, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\" \", ctx.lastname, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\" \", ctx.username, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\" \", ctx.phonenumber, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\" \", ctx.email, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(6);\n      i0.ɵɵpropertyInterpolate1(\"src\", \"http://localhost:4000/\", ctx.image_path, \"\", i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 0);\n      i0.ɵɵadvance(34);\n      i0.ɵɵproperty(\"ngForOf\", ctx.workshopsPart);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.likedWorkshops);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngForOf\", ctx.workshopComments);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.user_type != 0);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i2.RouterLink, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.NgModel, i5.NgForm, i6.MatSidenav, i6.MatSidenavContainer, i6.MatSidenavContent],\n  styles: [\".example-container[_ngcontent-%COMP%] {\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    right: 0;\\r\\n    background: lightblue;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZmlsZS9wcm9maWxlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7SUFDbEIsTUFBTTtJQUNOLFNBQVM7SUFDVCxPQUFPO0lBQ1AsUUFBUTtJQUNSLHFCQUFxQjtFQUN2QiIsInNvdXJjZXNDb250ZW50IjpbIi5leGFtcGxlLWNvbnRhaW5lciB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBib3R0b206IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICBiYWNrZ3JvdW5kOiBsaWdodGJsdWU7XHJcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ProfileComponent","constructor","userService","router","workshopService","firstname","sessionStorage","getItem","lastname","username","phonenumber","email","user_type","image_path","slice","getWorkshops","getLikedWorkshops","getWorkshopComments","gerOrganizatorWorkshops","ngOnInit","changeEmail","emailUpd","subscribe","resp","changeUsername","usernameUpd","changeFirstname","firstnameUpd","changeLastname","lastnameUpd","messages","workshop","navigate","workshopIdMess","_id","changePhonenumber","phonenumberUpd","editEnable","edit","changePicture","formData","FormData","append","imageToUpload","changeProfilePic","getWorkshopsByParticipation","workshopsPart","getWorkshopsByOrganizator","workshopsOrg","getWorkshopsByLikes","likedWorkshops","getWorkshopCommentsByUser","workshopComments","unlikeWorkshop","workshopId","deleteComment","workshopComment","editComment","setItem","sortByWorkShopName","sort","w1","w2","workshopName","toLowerCase","sortByWorkShopDate","workshopDate","sortByWorkShopPlace","workshopPlace","sortByWorkShopDesc","workshopDesc","sortByWorkShopLikes","numOfLikes","changePass","logout","clear","uploadImage","files","item","image","Image","src","window","URL","createObjectURL","onload","width","height","imageErr","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Matija Milosevic\\Downloads\\PIA\\InternetApplicationProject\\Projekat\\frontend\\src\\app\\profile\\profile.component.html","C:\\Users\\Matija Milosevic\\Downloads\\PIA\\InternetApplicationProject\\Projekat\\frontend\\src\\app\\profile\\profile.component.ts"],"sourcesContent":["<mat-sidenav-container class=\"example-container\">\n    <mat-sidenav mode=\"side\" opened>\n        <table>\n            <tr>\n                <button routerLink=\"/user-info\">Profile</button>\n            </tr>\n            <tr>\n                <button routerLink=\"/user-workshops\">Workshops</button>\n            </tr>\n            <tr>\n                <button routerLink=\"/become-organizer\">Become organizer</button>\n            </tr>\n           <tr *ngIf=\"user_type == 2\">\n                <button routerLink=\"/edit-users\">All users</button>\n           </tr>\n           <tr *ngIf=\"user_type == 2\">\n                <button routerLink=\"/registration-requests\">Registration requests</button>\n            </tr>\n            <tr *ngIf=\"user_type==2\">\n                <button routerLink=\"/insert-new-user\">Add new user</button>\n            </tr>\n            <tr *ngIf=\"user_type==2\">\n                <button routerLink=\"/workshop-aprove\">Aprove workshops</button>\n            </tr>\n\n        </table>\n       \n            <form>\n                <button (click)=\"changePass()\">Change password</button>\n            </form>\n       \n            <form>\n                <button (click)=\"logout()\">Logout</button>\n            </form>\n        \n    </mat-sidenav>\n    <mat-sidenav-content>\n        <table>\n            <tr>\n                <td>\n                    Firstname:\n                </td>\n                <td>\n                    {{firstname}}\n                </td>\n                <td *ngIf=\"edit == 1\">\n                    <input type=\"text\" name=\"firstnameUpdate\" [(ngModel)]=\"firstnameUpd\">\n                </td>\n                <td *ngIf=\"edit == 1\">\n                    <button (click)=\"changeFirstname()\">Change</button>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    Lastname:\n                </td>\n                <td>\n                    {{lastname}}\n                </td>\n                <td *ngIf=\"edit == 1\">\n                    <input type=\"text\" name=\"lastnameUpdate\" [(ngModel)]=\"lastnameUpd\">\n                </td>\n                <td *ngIf=\"edit == 1\">\n                    <button (click)=\"changeLastname()\">Change</button>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    Username:\n                </td>\n                <td>\n                    {{username}}\n                </td>\n                <td *ngIf=\"edit == 1\">\n                    <input type=\"text\" name=\"usernameUpdate\" [(ngModel)]=\"usernameUpd\">\n                </td>\n                <td *ngIf=\"edit == 1\">\n                    <button (click)=\"changeUsername()\">Change</button>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    Phone number:\n                </td>\n                <td>\n                    {{phonenumber}}\n                </td>\n                <td *ngIf=\"edit == 1\">\n                    <input type=\"text\" name=\"phonenumberUpdate\" [(ngModel)]=\"phonenumberUpd\">\n                </td>\n                <td *ngIf=\"edit == 1\">\n                    <button (click)=\"changePhonenumber()\">Change</button>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    Email:\n                </td>\n                <td>\n                    {{email}}\n                </td>\n                <td *ngIf=\"edit == 1\">\n                    <input type=\"text\" name=\"emailUpdate\" [(ngModel)]=\"emailUpd\">\n                </td>\n                <td *ngIf=\"edit == 1\">\n                    <button (click)=\"changeEmail()\">Change</button>\n                </td>\n            </tr>\n            <tr>\n                <tr>\n                    <td>\n                        Profile picture:\n                    </td>\n                    <td>\n                        <img src=\"http://localhost:4000/{{image_path}}\" onerror='this.src=\"http://localhost:4000/blank-profile-picture-973460__340.webp\"' width=\"50\" height=\"50\">\n                    </td>\n                    <td *ngIf=\"edit == 1\">\n                        <div class=\"form-group\">\n                                \n                            <input type=\"file\" (change)=\"uploadImage($any($event).target.files)\">\n                            </div>\n                    </td>\n                    <td *ngIf=\"edit == 1\">\n                        <button (click)=\"changePicture()\">Change</button>\n                    </td>\n                </tr>\n                <tr>\n                <td>\n                    <button (click)=\"editEnable()\">Edit mode</button>\n                </td>\n                <td>\n                    <p *ngIf=\"edit == 1\">On</p>\n                    <p *ngIf=\"edit == 0\">Off</p>\n                </td>\n            </tr>\n        </table>\n        <h1>Participated workshops:</h1>\n        <table>\n            <tr>\n                \n                <td>\n                    \n                </td>\n                <td>\n                    <button (click)=\"sortByWorkShopName()\">Sort</button>\n                    \n                </td>\n                <td>\n                    <button (click)=\"sortByWorkShopDate()\">Sort</button>\n                   \n                </td>\n                <td>\n                    <button (click)=\"sortByWorkShopPlace()\">Sort</button>\n                  \n                </td>\n                <td>\n                    <button (click)=\"sortByWorkShopDesc()\">Sort</button>\n                   \n                </td>\n                <td>\n                    <button (click)=\"sortByWorkShopLikes()\">Sort</button>\n                   \n                </td>\n            </tr>\n            <tr>\n                \n                <td>\n                    Workshop Image\n                </td>\n                <td>\n                    Workshop Name \n                </td>\n                <td>\n                    Workshop Date\n                </td>\n                <td>\n                    Workshop Place\n                </td>\n                <td>\n                    Workshop Desc\n                </td>\n                <td>\n                    Likes\n                </td>\n            </tr>\n            <tr *ngFor=\"let workshop of workshopsPart\">\n                <td>\n                    <img src=\"http://localhost:4000/{{workshop.workshopImage}}\" onerror='this.src=\"http://localhost:4000/workshop.webp\"' width=\"50\" height=\"50\">\n                </td>\n                <td>\n                    {{workshop.workshopName}}  \n                </td>\n                <td>\n                   {{workshop.workshopDate}} \n                </td>\n                <td>\n                    {{workshop.workshopPlace}} \n                </td>\n                <td>\n                    {{workshop.workshopDesc}} \n                </td>\n                <td>\n                    {{workshop.numOfLikes}} \n                </td>\n\n            </tr>\n        </table>\n        <table>\n            <tr *ngFor=\"let workshop of likedWorkshops\">\n                <td>\n                    {{workshop.workshopName}}\n                </td>\n                <td>\n                    <button (click)=\"unlikeWorkshop(workshop)\">Unlike</button>\n                </td>\n            </tr>\n        </table>          \n        <table>\n            <tr>\n                <td>\n                    <h4>Workshop:</h4>\n                </td>\n                <td>\n                    <h3>Comment:</h3>\n                </td>\n                <td>\n                    <h3>Delete:</h3>\n                </td>\n                <td>\n                    <h3>Edit:</h3>\n        \n                </td>\n            </tr>\n            <tr *ngFor=\"let comment of workshopComments\">\n                <td>\n                    {{comment.workshopName}}\n                </td>\n                <td>\n                    {{comment.comment}}\n                </td>\n                <td>\n                    <button (click)=\"deleteComment(comment)\">Delete</button>\n                </td>\n                <td>\n                    <button (click)=\"editComment(comment)\">Edit</button>\n                </td>\n            </tr>\n        </table>\n        <div *ngIf=\"user_type != 0\">\n            <h1>Organized workshops:</h1>\n            <table>\n                <tr>\n                \n                    <td>\n                        Workshop Image\n                    </td>\n                    <td>\n                        Workshop Name \n                    </td>\n                    <td>\n                        Workshop Date\n                    </td>\n                    <td>\n                        Workshop Place\n                    </td>\n                    <td>\n                        Workshop Desc\n                    </td>\n                    <td>\n                        Likes\n                    </td>\n                    <td>\n                        Messages\n                    </td>\n                </tr>\n                <tr *ngFor=\"let workshop of workshopsOrg\">\n                    <td>\n                        <img src=\"http://localhost:4000/{{workshop.workshopImage}}\" onerror='this.src=\"http://localhost:4000/workshop.webp\"' width=\"50\" height=\"50\">\n                    </td>\n                    <td>\n                        {{workshop.workshopName}}  \n                    </td>\n                    <td>\n                       {{workshop.workshopDate}} \n                    </td>\n                    <td>\n                        {{workshop.workshopPlace}} \n                    </td>\n                    <td>\n                        {{workshop.workshopDesc}} \n                    </td>\n                    <td>\n                        {{workshop.numOfLikes}} \n                    </td>\n                    <td>\n                        <button (click)=\"messages(workshop)\">Messages</button>\n                    </td>\n                </tr>\n            </table>\n        </div>\n\n    </mat-sidenav-content>\n  </mat-sidenav-container>\n\n\n   \n\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Workshop } from '../models/workshop';\nimport { WorkshopComments } from '../models/workshop_comments';\nimport { UserService } from '../user.service';\nimport { WorkshopService } from '../workshop.service';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.css']\n})\nexport class ProfileComponent implements OnInit {\n\n  constructor(private userService : UserService, private router : Router, private workshopService : WorkshopService) {\n      this.firstname = sessionStorage.getItem('firstname');   \n      this.lastname = sessionStorage.getItem('lastname'); \n      this.username = sessionStorage.getItem('username'); \n      this.phonenumber = sessionStorage.getItem('phonenumber');  \n      this.email = sessionStorage.getItem('email'); \n      this.user_type = +sessionStorage.getItem('user_type');\n      if(sessionStorage.getItem('imagePath') != null){\n        this.image_path = sessionStorage.getItem('imagePath').slice(7);\n      }\n      else{\n        this.image_path = \"backend/images/blank-profile-picture-973460__340.webp\"\n      }\n     \n      this.getWorkshops();\n      this.getLikedWorkshops();\n      this.getWorkshopComments();\n      this.gerOrganizatorWorkshops();\n   }\n\n  ngOnInit(): void {\n  }\n\n  firstnameUpd : string;\n  lastnameUpd : string;\n  usernameUpd : string;\n  emailUpd : string;\n  phonenumberUpd : string;\n  imageToUpload : File;\n  edit : number | null = 0;\n  imageErr : string;\n\n  firstname : string;\n  lastname : string;\n  email : string;\n  phonenumber : string;\n  username : string;\n  image_path : string;\n  user_type : number;\n  workshopsPart : Workshop[];\n  workshopsOrg : Workshop[];\n  likedWorkshops : Workshop[];\n  workshopComments : WorkshopComments[];\n\n  changeEmail(){\n    this.userService.changeEmail(this.username, this.emailUpd).subscribe((resp)=>{\n      this.email = this.emailUpd;\n    })\n  }\n  changeUsername(){\n    this.userService.changeUsername(this.username, this.usernameUpd).subscribe((resp)=>{\n      if(resp['message'] == 'Username changed!'){\n        this.username = this.usernameUpd;\n      }\n    })\n  }\n  changeFirstname(){\n    this.userService.changeFirstname(this.username, this.firstnameUpd).subscribe((resp)=>{\n      this.firstname = this.firstnameUpd;\n    })\n  }\n  changeLastname(){\n    this.userService.changeLastname(this.username, this.lastnameUpd).subscribe((resp)=>{\n      this.lastname = this.lastnameUpd;\n    })\n  }\n  messages(workshop){\n    this.router.navigate(['workshop-messages', {workshopIdMess : workshop._id}])\n  }\n  changePhonenumber(){\n    this.userService.changePhonenumber(this.username, this.phonenumberUpd).subscribe((resp)=>{\n      this.phonenumber = this.phonenumberUpd;\n    })\n  }\n  editEnable(){\n    this.edit = (this.edit == 0? 1 : 0);\n  }\n  changePicture(){\n    let formData : FormData = new FormData();\n    formData.append('username', this.username);\n    formData.append('image', this.imageToUpload);\n    \n    this.userService.changeProfilePic(formData).subscribe((resp)=>{\n      this.image_path = resp['image_path'];\n    })\n  }\n  getWorkshops(){\n    this.workshopService.getWorkshopsByParticipation(this.username, 1).subscribe((resp)=>{\n        this.workshopsPart = resp as Workshop[];\n    })\n  }\n  gerOrganizatorWorkshops(){\n    this.workshopService.getWorkshopsByOrganizator(this.username).subscribe((resp)=>{\n      this.workshopsOrg = resp as Workshop[];\n    })\n  }\n  getLikedWorkshops(){\n    this.workshopService.getWorkshopsByLikes(this.username).subscribe((resp)=>{\n      \n      this.likedWorkshops = resp as Workshop[];\n\n    })\n  }\n  getWorkshopComments(){\n    this.workshopService.getWorkshopCommentsByUser(this.username).subscribe((resp)=>{\n      this.workshopComments = resp as WorkshopComments[];\n    })\n  }\n  unlikeWorkshop(workshop){\n    let workshopId = workshop._id;\n    this.workshopService.unlikeWorkshop(this.username, workshopId).subscribe((resp)=>{\n      this.getWorkshops();\n      this.getLikedWorkshops();\n    })\n  }\n  deleteComment(workshopComment){\n    let workshopId = workshopComment.workshopId;\n    this.workshopService.deleteComment(this.username, workshopId).subscribe((resp)=>{\n      this.getWorkshopComments();\n    })\n\n  }\n  editComment(workshopComment){\n    let workshopId = workshopComment.workshopId;\n    sessionStorage.setItem('workshopToEdit', workshopId);\n    this.router.navigate(['edit-comment']);\n    // this.workshopService.editComment(this.username,workshopId).subscribe((resp)=>{\n    //   this.getWorkshopComments();\n    // })\n  }\n\n\n  ////////////////////////////////////////////////\n  sortByWorkShopName(){\n    this.workshopsPart.sort((w1, w2)=> w1.workshopName.toLowerCase() > w2.workshopName.toLowerCase()? 1: -1);\n  }\n  sortByWorkShopDate(){\n    this.workshopsPart.sort((w1, w2)=> w1.workshopDate > w2.workshopDate? -1: 1);\n  }\n  sortByWorkShopPlace(){\n    this.workshopsPart.sort((w1, w2)=> w1.workshopPlace.toLowerCase() > w2.workshopPlace.toLowerCase()? 1: -1);\n  }\n  sortByWorkShopDesc(){\n    this.workshopsPart.sort((w1, w2)=> w1.workshopDesc.toLowerCase() > w2.workshopDesc.toLowerCase()? 1: -1);\n  }\n  sortByWorkShopLikes(){\n    this.workshopsPart.sort((w1, w2)=> w1.numOfLikes > w2.numOfLikes? -1: 1);\n  }\n  changePass(){\n    this.router.navigate(['change-password']);\n  }\n  logout(){\n    sessionStorage.clear();\n    this.router.navigate(['']);\n  }\n  uploadImage(files: FileList):void{\n    this.imageToUpload = files.item(0);\n    let image = new Image()\n    image.src = window.URL.createObjectURL(this.imageToUpload)\n    image.onload = () => {\n      if(image.width < 100 || image.height < 100 || image.width > 300 || image.height > 300){\n        this.imageErr = '0';\n      } else {\n        this.imageErr = '2';\n        \n      }                \n    }\n  }\n  \n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}