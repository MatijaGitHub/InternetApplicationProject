{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../workshop.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/material/sidenav\";\nfunction ProfileComponent_td_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_td_18_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.firstnameUpd = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.firstnameUpd);\n  }\n}\nfunction ProfileComponent_td_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_td_19_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.changeFirstname());\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_td_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_td_25_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.lastnameUpd = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.lastnameUpd);\n  }\n}\nfunction ProfileComponent_td_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_td_26_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.changeLastname());\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_td_32_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_td_32_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.usernameUpd = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.usernameUpd);\n  }\n}\nfunction ProfileComponent_td_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_td_33_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.changeUsername());\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_td_39_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 12);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_td_39_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.phonenumberUpd = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r6.phonenumberUpd);\n  }\n}\nfunction ProfileComponent_td_40_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r33 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_td_40_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r33);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r32.changePhonenumber());\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_td_46_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_td_46_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.emailUpd = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.emailUpd);\n  }\n}\nfunction ProfileComponent_td_47_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r37 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_td_47_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r37);\n      const ctx_r36 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r36.changeEmail());\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_td_54_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"div\", 14)(2, \"input\", 15);\n    i0.ɵɵlistener(\"change\", function ProfileComponent_td_54_Template_input_change_2_listener($event) {\n      i0.ɵɵrestoreView(_r39);\n      const ctx_r38 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r38.uploadImage($event.target.files));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ProfileComponent_td_55_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_td_55_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r40 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r40.changePicture());\n    });\n    i0.ɵɵtext(2, \"Change\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileComponent_p_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"On\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProfileComponent_p_62_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Off\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProfileComponent_tr_96_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"img\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const workshop_r42 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"http://localhost:4000/\", workshop_r42.workshopImage, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r42.workshopName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r42.workshopDate, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r42.workshopPlace, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r42.workshopDesc, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r42.numOfLikes, \" \");\n  }\n}\nfunction ProfileComponent_tr_98_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r45 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_tr_98_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r45);\n      const workshop_r43 = restoredCtx.$implicit;\n      const ctx_r44 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r44.unlikeWorkshop(workshop_r43));\n    });\n    i0.ɵɵtext(5, \"Unlike\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const workshop_r43 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", workshop_r43.workshopName, \" \");\n  }\n}\nfunction ProfileComponent_tr_113_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r48 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_tr_113_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r48);\n      const comment_r46 = restoredCtx.$implicit;\n      const ctx_r47 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r47.deleteComment(comment_r46));\n    });\n    i0.ɵɵtext(7, \"Delete\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"td\")(9, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_tr_113_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r48);\n      const comment_r46 = restoredCtx.$implicit;\n      const ctx_r49 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r49.editComment(comment_r46));\n    });\n    i0.ɵɵtext(10, \"Edit\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const comment_r46 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", comment_r46.workshopName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", comment_r46.comment, \" \");\n  }\n}\nfunction ProfileComponent_div_114_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" ORGANIZATOR \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class ProfileComponent {\n  constructor(userService, router, workshopService) {\n    this.userService = userService;\n    this.router = router;\n    this.workshopService = workshopService;\n    this.edit = 0;\n    this.firstname = sessionStorage.getItem('firstname');\n    this.lastname = sessionStorage.getItem('lastname');\n    this.username = sessionStorage.getItem('username');\n    this.phonenumber = sessionStorage.getItem('phonenumber');\n    this.email = sessionStorage.getItem('email');\n    this.user_type = +sessionStorage.getItem('user_type');\n    if (sessionStorage.getItem('imagePath') != null) {\n      this.image_path = sessionStorage.getItem('imagePath').slice(7);\n    } else {\n      this.image_path = \"backend/images/blank-profile-picture-973460__340.webp\";\n    }\n    this.getWorkshops();\n    this.getLikedWorkshops();\n    this.getWorkshopComments();\n  }\n  ngOnInit() {}\n  changeEmail() {\n    this.userService.changeEmail(this.username, this.emailUpd).subscribe(resp => {\n      this.email = this.emailUpd;\n    });\n  }\n  changeUsername() {\n    this.userService.changeUsername(this.username, this.usernameUpd).subscribe(resp => {\n      if (resp['message'] == 'Username changed!') {\n        this.username = this.usernameUpd;\n      }\n    });\n  }\n  changeFirstname() {\n    this.userService.changeFirstname(this.username, this.firstnameUpd).subscribe(resp => {\n      this.firstname = this.firstnameUpd;\n    });\n  }\n  changeLastname() {\n    this.userService.changeLastname(this.username, this.lastnameUpd).subscribe(resp => {\n      this.lastname = this.lastnameUpd;\n    });\n  }\n  changePhonenumber() {\n    this.userService.changePhonenumber(this.username, this.phonenumberUpd).subscribe(resp => {\n      this.phonenumber = this.phonenumberUpd;\n    });\n  }\n  editEnable() {\n    this.edit = this.edit == 0 ? 1 : 0;\n  }\n  changePicture() {\n    let formData = new FormData();\n    formData.append('username', this.username);\n    formData.append('image', this.imageToUpload);\n    this.userService.changeProfilePic(formData).subscribe(resp => {\n      this.image_path = resp['image_path'];\n    });\n  }\n  getWorkshops() {\n    this.workshopService.getWorkshopsByParticipation(this.username, 1).subscribe(resp => {\n      this.workshopsPart = resp;\n    });\n  }\n  getLikedWorkshops() {\n    this.workshopService.getWorkshopsByLikes(this.username).subscribe(resp => {\n      this.likedWorkshops = resp;\n    });\n  }\n  getWorkshopComments() {\n    this.workshopService.getWorkshopCommentsByUser(this.username).subscribe(resp => {\n      this.workshopComments = resp;\n    });\n  }\n  unlikeWorkshop(workshop) {\n    let workshopId = workshop._id;\n    this.workshopService.unlikeWorkshop(this.username, workshopId).subscribe(resp => {\n      this.getWorkshops();\n      this.getLikedWorkshops();\n    });\n  }\n  deleteComment(workshopComment) {\n    let workshopId = workshopComment.workshopId;\n    this.workshopService.deleteComment(this.username, workshopId).subscribe(resp => {\n      this.getWorkshopComments();\n    });\n  }\n  editComment(workshopComment) {\n    let workshopId = workshopComment.workshopId;\n    sessionStorage.setItem('workshopToEdit', workshopId);\n    this.router.navigate(['edit-comment']);\n    // this.workshopService.editComment(this.username,workshopId).subscribe((resp)=>{\n    //   this.getWorkshopComments();\n    // })\n  }\n  ////////////////////////////////////////////////\n  sortByWorkShopName() {\n    this.workshopsPart.sort((w1, w2) => w1.workshopName.toLowerCase() > w2.workshopName.toLowerCase() ? 1 : -1);\n  }\n  sortByWorkShopDate() {\n    this.workshopsPart.sort((w1, w2) => w1.workshopDate > w2.workshopDate ? -1 : 1);\n  }\n  sortByWorkShopPlace() {\n    this.workshopsPart.sort((w1, w2) => w1.workshopPlace.toLowerCase() > w2.workshopPlace.toLowerCase() ? 1 : -1);\n  }\n  sortByWorkShopDesc() {\n    this.workshopsPart.sort((w1, w2) => w1.workshopDesc.toLowerCase() > w2.workshopDesc.toLowerCase() ? 1 : -1);\n  }\n  sortByWorkShopLikes() {\n    this.workshopsPart.sort((w1, w2) => w1.numOfLikes > w2.numOfLikes ? -1 : 1);\n  }\n  changePass() {\n    this.router.navigate(['change-password']);\n  }\n  logout() {\n    sessionStorage.clear();\n    this.router.navigate(['']);\n  }\n  uploadImage(files) {\n    this.imageToUpload = files.item(0);\n    let image = new Image();\n    image.src = window.URL.createObjectURL(this.imageToUpload);\n    image.onload = () => {\n      if (image.width < 100 || image.height < 100 || image.width > 300 || image.height > 300) {\n        this.imageErr = '0';\n      } else {\n        this.imageErr = '2';\n      }\n    };\n  }\n}\nProfileComponent.ɵfac = function ProfileComponent_Factory(t) {\n  return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.WorkshopService));\n};\nProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProfileComponent,\n  selectors: [[\"app-profile\"]],\n  decls: 122,\n  vars: 24,\n  consts: [[1, \"example-container\"], [\"mode\", \"side\", \"opened\", \"\"], [\"routerLink\", \"/user-info\"], [\"routerLink\", \"/user-workshops\"], [\"routerLink\", \"/become-organizer\"], [4, \"ngIf\"], [\"onerror\", \"this.src=\\\"http://localhost:4000/blank-profile-picture-973460__340.webp\\\"\", \"width\", \"50\", \"height\", \"50\", 3, \"src\"], [3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"name\", \"firstnameUpdate\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"lastnameUpdate\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"usernameUpdate\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"phonenumberUpdate\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"emailUpdate\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-group\"], [\"type\", \"file\", 3, \"change\"], [\"onerror\", \"this.src=\\\"http://localhost:4000/workshop.webp\\\"\", \"width\", \"50\", \"height\", \"50\", 3, \"src\"]],\n  template: function ProfileComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-sidenav-container\", 0)(1, \"mat-sidenav\", 1)(2, \"p\")(3, \"button\", 2);\n      i0.ɵɵtext(4, \"Profile\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"p\")(6, \"button\", 3);\n      i0.ɵɵtext(7, \"Workshops\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"p\")(9, \"button\", 4);\n      i0.ɵɵtext(10, \"Become organizer\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(11, \"mat-sidenav-content\")(12, \"table\")(13, \"tr\")(14, \"td\");\n      i0.ɵɵtext(15, \" Firstname: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"td\");\n      i0.ɵɵtext(17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(18, ProfileComponent_td_18_Template, 2, 1, \"td\", 5);\n      i0.ɵɵtemplate(19, ProfileComponent_td_19_Template, 3, 0, \"td\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"tr\")(21, \"td\");\n      i0.ɵɵtext(22, \" Lastname: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"td\");\n      i0.ɵɵtext(24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(25, ProfileComponent_td_25_Template, 2, 1, \"td\", 5);\n      i0.ɵɵtemplate(26, ProfileComponent_td_26_Template, 3, 0, \"td\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"tr\")(28, \"td\");\n      i0.ɵɵtext(29, \" Username: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"td\");\n      i0.ɵɵtext(31);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(32, ProfileComponent_td_32_Template, 2, 1, \"td\", 5);\n      i0.ɵɵtemplate(33, ProfileComponent_td_33_Template, 3, 0, \"td\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"tr\")(35, \"td\");\n      i0.ɵɵtext(36, \" Phone number: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"td\");\n      i0.ɵɵtext(38);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(39, ProfileComponent_td_39_Template, 2, 1, \"td\", 5);\n      i0.ɵɵtemplate(40, ProfileComponent_td_40_Template, 3, 0, \"td\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"tr\")(42, \"td\");\n      i0.ɵɵtext(43, \" Email: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"td\");\n      i0.ɵɵtext(45);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(46, ProfileComponent_td_46_Template, 2, 1, \"td\", 5);\n      i0.ɵɵtemplate(47, ProfileComponent_td_47_Template, 3, 0, \"td\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(48, \"tr\");\n      i0.ɵɵelementStart(49, \"tr\")(50, \"td\");\n      i0.ɵɵtext(51, \" Profile picture: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(52, \"td\");\n      i0.ɵɵelement(53, \"img\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(54, ProfileComponent_td_54_Template, 3, 0, \"td\", 5);\n      i0.ɵɵtemplate(55, ProfileComponent_td_55_Template, 3, 0, \"td\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(56, \"tr\")(57, \"td\")(58, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_58_listener() {\n        return ctx.editEnable();\n      });\n      i0.ɵɵtext(59, \"Edit mode\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(60, \"td\");\n      i0.ɵɵtemplate(61, ProfileComponent_p_61_Template, 2, 0, \"p\", 5);\n      i0.ɵɵtemplate(62, ProfileComponent_p_62_Template, 2, 0, \"p\", 5);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(63, \"h1\");\n      i0.ɵɵtext(64, \"Participated workshops:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(65, \"table\")(66, \"tr\");\n      i0.ɵɵelement(67, \"td\");\n      i0.ɵɵelementStart(68, \"td\")(69, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_69_listener() {\n        return ctx.sortByWorkShopName();\n      });\n      i0.ɵɵtext(70, \"Sort\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(71, \"td\")(72, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_72_listener() {\n        return ctx.sortByWorkShopDate();\n      });\n      i0.ɵɵtext(73, \"Sort\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(74, \"td\")(75, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_75_listener() {\n        return ctx.sortByWorkShopPlace();\n      });\n      i0.ɵɵtext(76, \"Sort\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(77, \"td\")(78, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_78_listener() {\n        return ctx.sortByWorkShopDesc();\n      });\n      i0.ɵɵtext(79, \"Sort\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(80, \"td\")(81, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_81_listener() {\n        return ctx.sortByWorkShopLikes();\n      });\n      i0.ɵɵtext(82, \"Sort\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(83, \"tr\")(84, \"td\");\n      i0.ɵɵtext(85, \" Workshop Image \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(86, \"td\");\n      i0.ɵɵtext(87, \" Workshop Name \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(88, \"td\");\n      i0.ɵɵtext(89, \" Workshop Date \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(90, \"td\");\n      i0.ɵɵtext(91, \" Workshop Place \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(92, \"td\");\n      i0.ɵɵtext(93, \" Workshop Desc \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(94, \"td\");\n      i0.ɵɵtext(95, \" Likes \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(96, ProfileComponent_tr_96_Template, 13, 6, \"tr\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(97, \"table\");\n      i0.ɵɵtemplate(98, ProfileComponent_tr_98_Template, 6, 1, \"tr\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(99, \"table\")(100, \"tr\")(101, \"td\")(102, \"h4\");\n      i0.ɵɵtext(103, \"Workshop:\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(104, \"td\")(105, \"h3\");\n      i0.ɵɵtext(106, \"Comment:\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(107, \"td\")(108, \"h3\");\n      i0.ɵɵtext(109, \"Delete:\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(110, \"td\")(111, \"h3\");\n      i0.ɵɵtext(112, \"Edit:\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(113, ProfileComponent_tr_113_Template, 11, 2, \"tr\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(114, ProfileComponent_div_114_Template, 2, 0, \"div\", 5);\n      i0.ɵɵelementStart(115, \"footer\")(116, \"form\")(117, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_117_listener() {\n        return ctx.changePass();\n      });\n      i0.ɵɵtext(118, \"Change password\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(119, \"form\")(120, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_120_listener() {\n        return ctx.logout();\n      });\n      i0.ɵɵtext(121, \"Logout\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(17);\n      i0.ɵɵtextInterpolate1(\" \", ctx.firstname, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\" \", ctx.lastname, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\" \", ctx.username, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\" \", ctx.phonenumber, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\" \", ctx.email, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(6);\n      i0.ɵɵpropertyInterpolate1(\"src\", \"http://localhost:4000/\", ctx.image_path, \"\", i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit == 0);\n      i0.ɵɵadvance(34);\n      i0.ɵɵproperty(\"ngForOf\", ctx.workshopsPart);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.likedWorkshops);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngForOf\", ctx.workshopComments);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.user_type == 1);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i2.RouterLink, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.NgModel, i5.NgForm, i6.MatSidenav, i6.MatSidenavContainer, i6.MatSidenavContent],\n  styles: [\".example-container[_ngcontent-%COMP%] {\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    right: 0;\\r\\n    background: lightblue;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZmlsZS9wcm9maWxlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7SUFDbEIsTUFBTTtJQUNOLFNBQVM7SUFDVCxPQUFPO0lBQ1AsUUFBUTtJQUNSLHFCQUFxQjtFQUN2QiIsInNvdXJjZXNDb250ZW50IjpbIi5leGFtcGxlLWNvbnRhaW5lciB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBib3R0b206IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICBiYWNrZ3JvdW5kOiBsaWdodGJsdWU7XHJcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ProfileComponent","constructor","userService","router","workshopService","firstname","sessionStorage","getItem","lastname","username","phonenumber","email","user_type","image_path","slice","getWorkshops","getLikedWorkshops","getWorkshopComments","ngOnInit","changeEmail","emailUpd","subscribe","resp","changeUsername","usernameUpd","changeFirstname","firstnameUpd","changeLastname","lastnameUpd","changePhonenumber","phonenumberUpd","editEnable","edit","changePicture","formData","FormData","append","imageToUpload","changeProfilePic","getWorkshopsByParticipation","workshopsPart","getWorkshopsByLikes","likedWorkshops","getWorkshopCommentsByUser","workshopComments","unlikeWorkshop","workshop","workshopId","_id","deleteComment","workshopComment","editComment","setItem","navigate","sortByWorkShopName","sort","w1","w2","workshopName","toLowerCase","sortByWorkShopDate","workshopDate","sortByWorkShopPlace","workshopPlace","sortByWorkShopDesc","workshopDesc","sortByWorkShopLikes","numOfLikes","changePass","logout","clear","uploadImage","files","item","image","Image","src","window","URL","createObjectURL","onload","width","height","imageErr","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Matija Milosevic\\Downloads\\PIA\\InternetApplicationProject\\Projekat\\frontend\\src\\app\\profile\\profile.component.html","C:\\Users\\Matija Milosevic\\Downloads\\PIA\\InternetApplicationProject\\Projekat\\frontend\\src\\app\\profile\\profile.component.ts"],"sourcesContent":["<mat-sidenav-container class=\"example-container\">\n    <mat-sidenav mode=\"side\" opened>\n        <p>\n            <button routerLink=\"/user-info\">Profile</button>\n        </p>\n        <p>\n            <button routerLink=\"/user-workshops\">Workshops</button>\n        </p>\n        <p>\n            <button routerLink=\"/become-organizer\">Become organizer</button>\n        </p>\n\n    </mat-sidenav>\n    <mat-sidenav-content>\n        <table>\n            <tr>\n                <td>\n                    Firstname:\n                </td>\n                <td>\n                    {{firstname}}\n                </td>\n                <td *ngIf=\"edit == 1\">\n                    <input type=\"text\" name=\"firstnameUpdate\" [(ngModel)]=\"firstnameUpd\">\n                </td>\n                <td *ngIf=\"edit == 1\">\n                    <button (click)=\"changeFirstname()\">Change</button>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    Lastname:\n                </td>\n                <td>\n                    {{lastname}}\n                </td>\n                <td *ngIf=\"edit == 1\">\n                    <input type=\"text\" name=\"lastnameUpdate\" [(ngModel)]=\"lastnameUpd\">\n                </td>\n                <td *ngIf=\"edit == 1\">\n                    <button (click)=\"changeLastname()\">Change</button>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    Username:\n                </td>\n                <td>\n                    {{username}}\n                </td>\n                <td *ngIf=\"edit == 1\">\n                    <input type=\"text\" name=\"usernameUpdate\" [(ngModel)]=\"usernameUpd\">\n                </td>\n                <td *ngIf=\"edit == 1\">\n                    <button (click)=\"changeUsername()\">Change</button>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    Phone number:\n                </td>\n                <td>\n                    {{phonenumber}}\n                </td>\n                <td *ngIf=\"edit == 1\">\n                    <input type=\"text\" name=\"phonenumberUpdate\" [(ngModel)]=\"phonenumberUpd\">\n                </td>\n                <td *ngIf=\"edit == 1\">\n                    <button (click)=\"changePhonenumber()\">Change</button>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    Email:\n                </td>\n                <td>\n                    {{email}}\n                </td>\n                <td *ngIf=\"edit == 1\">\n                    <input type=\"text\" name=\"emailUpdate\" [(ngModel)]=\"emailUpd\">\n                </td>\n                <td *ngIf=\"edit == 1\">\n                    <button (click)=\"changeEmail()\">Change</button>\n                </td>\n            </tr>\n            <tr>\n                <tr>\n                    <td>\n                        Profile picture:\n                    </td>\n                    <td>\n                        <img src=\"http://localhost:4000/{{image_path}}\" onerror='this.src=\"http://localhost:4000/blank-profile-picture-973460__340.webp\"' width=\"50\" height=\"50\">\n                    </td>\n                    <td *ngIf=\"edit == 1\">\n                        <div class=\"form-group\">\n                                \n                            <input type=\"file\" (change)=\"uploadImage($any($event).target.files)\">\n                            </div>\n                    </td>\n                    <td *ngIf=\"edit == 1\">\n                        <button (click)=\"changePicture()\">Change</button>\n                    </td>\n                </tr>\n                <tr>\n                <td>\n                    <button (click)=\"editEnable()\">Edit mode</button>\n                </td>\n                <td>\n                    <p *ngIf=\"edit == 1\">On</p>\n                    <p *ngIf=\"edit == 0\">Off</p>\n                </td>\n            </tr>\n        </table>\n        <h1>Participated workshops:</h1>\n        <table>\n            <tr>\n                \n                <td>\n                    \n                </td>\n                <td>\n                    <button (click)=\"sortByWorkShopName()\">Sort</button>\n                    \n                </td>\n                <td>\n                    <button (click)=\"sortByWorkShopDate()\">Sort</button>\n                   \n                </td>\n                <td>\n                    <button (click)=\"sortByWorkShopPlace()\">Sort</button>\n                  \n                </td>\n                <td>\n                    <button (click)=\"sortByWorkShopDesc()\">Sort</button>\n                   \n                </td>\n                <td>\n                    <button (click)=\"sortByWorkShopLikes()\">Sort</button>\n                   \n                </td>\n            </tr>\n            <tr>\n                \n                <td>\n                    Workshop Image\n                </td>\n                <td>\n                    Workshop Name \n                </td>\n                <td>\n                    Workshop Date\n                </td>\n                <td>\n                    Workshop Place\n                </td>\n                <td>\n                    Workshop Desc\n                </td>\n                <td>\n                    Likes\n                </td>\n            </tr>\n            <tr *ngFor=\"let workshop of workshopsPart\">\n                <td>\n                    <img src=\"http://localhost:4000/{{workshop.workshopImage}}\" onerror='this.src=\"http://localhost:4000/workshop.webp\"' width=\"50\" height=\"50\">\n                </td>\n                <td>\n                    {{workshop.workshopName}}  \n                </td>\n                <td>\n                   {{workshop.workshopDate}} \n                </td>\n                <td>\n                    {{workshop.workshopPlace}} \n                </td>\n                <td>\n                    {{workshop.workshopDesc}} \n                </td>\n                <td>\n                    {{workshop.numOfLikes}} \n                </td>\n            </tr>\n        </table>\n        <table>\n            <tr *ngFor=\"let workshop of likedWorkshops\">\n                <td>\n                    {{workshop.workshopName}}\n                </td>\n                <td>\n                    <button (click)=\"unlikeWorkshop(workshop)\">Unlike</button>\n                </td>\n            </tr>\n        </table>          \n        <table>\n            <tr>\n                <td>\n                    <h4>Workshop:</h4>\n                </td>\n                <td>\n                    <h3>Comment:</h3>\n                </td>\n                <td>\n                    <h3>Delete:</h3>\n                </td>\n                <td>\n                    <h3>Edit:</h3>\n        \n                </td>\n            </tr>\n            <tr *ngFor=\"let comment of workshopComments\">\n                <td>\n                    {{comment.workshopName}}\n                </td>\n                <td>\n                    {{comment.comment}}\n                </td>\n                <td>\n                    <button (click)=\"deleteComment(comment)\">Delete</button>\n                </td>\n                <td>\n                    <button (click)=\"editComment(comment)\">Edit</button>\n                </td>\n            </tr>\n        </table>\n        <div *ngIf=\"user_type == 1\">\n            ORGANIZATOR\n        </div>\n        <footer>\n            <form>\n                <button (click)=\"changePass()\">Change password</button>\n            </form>\n            <form>\n                <button (click)=\"logout()\">Logout</button>\n            </form>\n        </footer>\n    </mat-sidenav-content>\n  </mat-sidenav-container>\n\n\n   \n\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Workshop } from '../models/workshop';\nimport { WorkshopComments } from '../models/workshop_comments';\nimport { UserService } from '../user.service';\nimport { WorkshopService } from '../workshop.service';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.css']\n})\nexport class ProfileComponent implements OnInit {\n\n  constructor(private userService : UserService, private router : Router, private workshopService : WorkshopService) {\n      this.firstname = sessionStorage.getItem('firstname');   \n      this.lastname = sessionStorage.getItem('lastname'); \n      this.username = sessionStorage.getItem('username'); \n      this.phonenumber = sessionStorage.getItem('phonenumber');  \n      this.email = sessionStorage.getItem('email'); \n      this.user_type = +sessionStorage.getItem('user_type');\n      if(sessionStorage.getItem('imagePath') != null){\n        this.image_path = sessionStorage.getItem('imagePath').slice(7);\n      }\n      else{\n        this.image_path = \"backend/images/blank-profile-picture-973460__340.webp\"\n      }\n     \n      this.getWorkshops();\n      this.getLikedWorkshops();\n      this.getWorkshopComments();\n   }\n\n  ngOnInit(): void {\n  }\n\n  firstnameUpd : string;\n  lastnameUpd : string;\n  usernameUpd : string;\n  emailUpd : string;\n  phonenumberUpd : string;\n  imageToUpload : File;\n  edit : number | null = 0;\n  imageErr : string;\n\n  firstname : string;\n  lastname : string;\n  email : string;\n  phonenumber : string;\n  username : string;\n  image_path : string;\n  user_type : number;\n  workshopsPart : Workshop[];\n  workshopsOrg : Workshop[];\n  likedWorkshops : Workshop[];\n  workshopComments : WorkshopComments[];\n\n  changeEmail(){\n    this.userService.changeEmail(this.username, this.emailUpd).subscribe((resp)=>{\n      this.email = this.emailUpd;\n    })\n  }\n  changeUsername(){\n    this.userService.changeUsername(this.username, this.usernameUpd).subscribe((resp)=>{\n      if(resp['message'] == 'Username changed!'){\n        this.username = this.usernameUpd;\n      }\n    })\n  }\n  changeFirstname(){\n    this.userService.changeFirstname(this.username, this.firstnameUpd).subscribe((resp)=>{\n      this.firstname = this.firstnameUpd;\n    })\n  }\n  changeLastname(){\n    this.userService.changeLastname(this.username, this.lastnameUpd).subscribe((resp)=>{\n      this.lastname = this.lastnameUpd;\n    })\n  }\n  changePhonenumber(){\n    this.userService.changePhonenumber(this.username, this.phonenumberUpd).subscribe((resp)=>{\n      this.phonenumber = this.phonenumberUpd;\n    })\n  }\n  editEnable(){\n    this.edit = (this.edit == 0? 1 : 0);\n  }\n  changePicture(){\n    let formData : FormData = new FormData();\n    formData.append('username', this.username);\n    formData.append('image', this.imageToUpload);\n    \n    this.userService.changeProfilePic(formData).subscribe((resp)=>{\n      this.image_path = resp['image_path'];\n    })\n  }\n  getWorkshops(){\n    this.workshopService.getWorkshopsByParticipation(this.username, 1).subscribe((resp)=>{\n        this.workshopsPart = resp as Workshop[];\n    })\n  }\n  getLikedWorkshops(){\n    this.workshopService.getWorkshopsByLikes(this.username).subscribe((resp)=>{\n      \n      this.likedWorkshops = resp as Workshop[];\n\n    })\n  }\n  getWorkshopComments(){\n    this.workshopService.getWorkshopCommentsByUser(this.username).subscribe((resp)=>{\n      this.workshopComments = resp as WorkshopComments[];\n    })\n  }\n  unlikeWorkshop(workshop){\n    let workshopId = workshop._id;\n    this.workshopService.unlikeWorkshop(this.username, workshopId).subscribe((resp)=>{\n      this.getWorkshops();\n      this.getLikedWorkshops();\n    })\n  }\n  deleteComment(workshopComment){\n    let workshopId = workshopComment.workshopId;\n    this.workshopService.deleteComment(this.username, workshopId).subscribe((resp)=>{\n      this.getWorkshopComments();\n    })\n\n  }\n  editComment(workshopComment){\n    let workshopId = workshopComment.workshopId;\n    sessionStorage.setItem('workshopToEdit', workshopId);\n    this.router.navigate(['edit-comment']);\n    // this.workshopService.editComment(this.username,workshopId).subscribe((resp)=>{\n    //   this.getWorkshopComments();\n    // })\n  }\n\n\n  ////////////////////////////////////////////////\n  sortByWorkShopName(){\n    this.workshopsPart.sort((w1, w2)=> w1.workshopName.toLowerCase() > w2.workshopName.toLowerCase()? 1: -1);\n  }\n  sortByWorkShopDate(){\n    this.workshopsPart.sort((w1, w2)=> w1.workshopDate > w2.workshopDate? -1: 1);\n  }\n  sortByWorkShopPlace(){\n    this.workshopsPart.sort((w1, w2)=> w1.workshopPlace.toLowerCase() > w2.workshopPlace.toLowerCase()? 1: -1);\n  }\n  sortByWorkShopDesc(){\n    this.workshopsPart.sort((w1, w2)=> w1.workshopDesc.toLowerCase() > w2.workshopDesc.toLowerCase()? 1: -1);\n  }\n  sortByWorkShopLikes(){\n    this.workshopsPart.sort((w1, w2)=> w1.numOfLikes > w2.numOfLikes? -1: 1);\n  }\n  changePass(){\n    this.router.navigate(['change-password']);\n  }\n  logout(){\n    sessionStorage.clear();\n    this.router.navigate(['']);\n  }\n  uploadImage(files: FileList):void{\n    this.imageToUpload = files.item(0);\n    let image = new Image()\n    image.src = window.URL.createObjectURL(this.imageToUpload)\n    image.onload = () => {\n      if(image.width < 100 || image.height < 100 || image.width > 300 || image.height > 300){\n        this.imageErr = '0';\n      } else {\n        this.imageErr = '2';\n        \n      }                \n    }\n  }\n  \n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}